parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"gg0M":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.song=void 0;var e={songData:[{i:[2,100,128,0,3,201,128,0,0,0,5,6,58,0,0,0,195,6,1,2,135,0,0,32,147,6,121,6],p:[1],c:[{n:[123,,135,130,123,,123,,130,131,128,,123,,123,130,135,,135,,123,131,130,,126,,138,,137,,130],f:[]}]}],rowLen:5513,patternLen:32,endPattern:0,numChannels:1};exports.song=e;
},{}],"wuKc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.navigation=void 0;var t={init:function(t){var e=this;this.g=t,document.getElementById("nav-left").addEventListener("click",function(n){t.dir--,t.dir<0&&(t.dir=3),e.update()}),document.getElementById("nav-right").addEventListener("click",function(n){t.dir++,t.dir>3&&(t.dir=0),e.update()}),document.getElementById("nav-forward").addEventListener("click",function(n){0===t.getRoom()[1]&&(t.pos+=0===t.dir?1:-1),e.update()})},update:function(){document.getElementById("nav-forward").style.opacity=1,this.g.drawRoom(),0!==this.g.getRoom()[1]&&(document.getElementById("nav-forward").style.opacity=0)}};exports.navigation=t;
},{}],"mpVp":[function(require,module,exports) {
"use strict";var t=r(require("./song.js")),e=require("./navigation.js");function n(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return n=function(){return t},t}function r(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=n();if(e&&e.has(t))return e.get(t);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){var c=o?Object.getOwnPropertyDescriptor(t,a):null;c&&(c.get||c.set)?Object.defineProperty(r,a,c):r[a]=t[a]}return r.default=t,e&&e.set(t,r),r}var o={w:500,h:250,w2:250,h2:125,pos:0,dir:2,room:[[1,0,1,1,"#898989",0,0,0,"You should not be here"],[1,1,1,0,"#898989",0,"code10",0,0],[1,0,1,0,"#e7fbbd",0,0,0,0],[1,1,1,0,"#898989",0,"code30",0,0],[1,0,1,0,"#bee5c7",0,0,0,0],[1,0,1,0,"#898989",0,0,"Andrea was always such a square",0],[1,1,1,0,"#898989",0,"code60",0,0]],code:{code10:["c10","404",function(){return c([4])+c([0])+c([4])},function(){return Array.prototype.map.call(document.getElementsByTagName("select"),function(t){return t.value}).reduce(function(t,e){return t+e},"")},function(){o.room[1][1]=0,o.room[1][4]="#e7fbbd"}],code30:["c30","404",function(){var t=Array.from(Array(10).keys());return c(t)+c(t)+c(t)},function(){return Array.prototype.map.call(document.getElementsByTagName("select"),function(t){return t.value}).reduce(function(t,e){return t+e},"")},function(){o.room[3][1]=0,o.room[3][4]="#bee5c7"}],code60:["c60","16016",function(){var t=Array.from(Array(21).keys());return c(t)+c(t)+c(t)},function(){return Array.prototype.map.call(document.getElementsByTagName("select"),function(t){return t.value}).reduce(function(t,e){return t+e},"")},function(){o.room[3][1]=0,o.room[3][4]="#bee5c7"}]},alphaR0:"rgba(0,0,0,0)",alphaR1:"rgba(0,0,0,0.2)",alphaR2:"rgba(0,0,0,0.9)"};function a(t){"loading"!=document.readyState?t():document.addEventListener("DOMContentLoaded",t)}function c(t){return"<select>".concat(t.reduce(function(t,e){return t+"<option>".concat(e,"</option>")},""),"</select>")}function i(){var t=window.innerHeight-20,e=window.innerWidth-20;t>800&&(t=800),e>800&&(e=800),o.w=e,o.w2=e/2,o.h=t,o.h2=t/2,o.c=document.getElementById("canvas"),o.c.width=e,o.c.height=t,o.xdiff=Math.round(o.w>o.h?o.w/10:o.w/8),o.ydiff=Math.round(o.w>o.h?o.h/8:o.h/15);var n=document.getElementById("navigation");n.style.bottom="".concat(o.ydiff,"px"),n.style.height="".concat(1.5*o.ydiff,"px")}function l(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;0!=t?(0===o.dir&&(t=o.pos+1),2===o.dir&&(t=o.pos-1)):t=o.pos;var e=o.room[t];switch(o.dir){case 0:return[e[0],e[1],e[2],e[4],e[5],e[6],e[7]];case 1:return[e[1],e[2],e[3],e[4],e[6],e[7],e[8]];case 2:return[e[2],e[3],e[0],e[4],e[7],e[8],e[5]];case 3:return[e[3],e[0],e[1],e[4],e[8],e[5],e[6]]}}function d(){var t=0===o.dir||3===o.dir?o.pos+1:o.pos-1;return o.room[t][4]}function f(){var t=0===o.dir||3===o.dir?o.pos+2:o.pos-2;return t>=o.room.length?t-=1:t<=0&&(t=0),o.room[t][4]}function h(){console.log("drawing room"),o.msgContainer.style.display="none",o.codeContainer.style.display="none",o.ctx.clearRect(0,0,o.w,o.h);var t=l();o.ctx.fillStyle=t[3],o.ctx.fillRect(0,0,o.w,o.h);var e=Math.round(o.w>o.h?o.w/10:o.w/8),n=Math.round(o.w>o.h?o.h/8:o.h/15);if((i=o.ctx.createLinearGradient(0,0,0,n)).addColorStop(0,o.alphaR0),i.addColorStop(1,o.alphaR1),o.ctx.fillStyle=i,o.ctx.fillRect(0,0,o.w,n),(i=o.ctx.createLinearGradient(0,o.h,0,o.h-n)).addColorStop(0,o.alphaR0),i.addColorStop(1,o.alphaR1),o.ctx.fillStyle=i,o.ctx.fillRect(0,o.h-n,o.w,n),0===t[0])o.ctx.line(0,n,e,n),o.ctx.line(0,o.h-n,e,o.h-n),o.ctx.fillStyle=o.alphaR1,o.ctx.fillRect(0,n,e,o.h-2*n);else if(o.ctx.drawWall(0,0,e,n,e,o.h-n,0,o.h,t[3],o.alphaR0,o.alphaR1),0!=t[4]&&!t[4].startsWith("code")){o.ctx.save();var r=n/1.5,a=n/3;o.ctx.translate(0,o.h2),o.ctx.beginPath(),o.ctx.moveTo(0,-r),o.ctx.lineTo(e/2,-a),o.ctx.lineTo(e/2,a),o.ctx.lineTo(0,r),(i=o.ctx.createLinearGradient(0,-r,0,r)).addColorStop(0,"rgba(0,0,0,0.4)"),i.addColorStop(1,"rgba(0,0,0,0.6)"),o.ctx.fillStyle=i,o.ctx.fill(),o.ctx.stroke(),o.ctx.restore()}if(0===t[1]){var c=l(1);if((i=o.ctx.createLinearGradient(e,n,e,n+n)).addColorStop(0,o.alphaR1),i.addColorStop(1,o.alphaR2),o.ctx.fillStyle=c[3],o.ctx.fillRect(e,n,o.w-2*e,n),o.ctx.fillStyle=i,o.ctx.fillRect(e,n,o.w-2*e,n),(i=o.ctx.createLinearGradient(e,o.h-n,e,o.h-2*n)).addColorStop(0,o.alphaR1),i.addColorStop(1,o.alphaR2),o.ctx.fillStyle=c[3],o.ctx.fillRect(e,o.h-2*n,o.w-2*e,n),o.ctx.fillStyle=i,o.ctx.fillRect(e,o.h-2*n,o.w-2*e,n),o.ctx.drawWall(e,n,e+e,n+n,e+e,o.h-n-n,e,o.h-n,c[3],o.alphaR1,o.alphaR2),0!=c[4]){o.ctx.save();var i,d=n/2.5,h=n/4;o.ctx.translate(1.25*e,o.h2),o.ctx.beginPath(),o.ctx.moveTo(0,-d),o.ctx.lineTo(e/2,-h),o.ctx.lineTo(e/2,h),o.ctx.lineTo(0,d),(i=o.ctx.createLinearGradient(0,-d,0,d)).addColorStop(0,"rgba(0,0,0,0.4)"),i.addColorStop(1,"rgba(0,0,0,0.6)"),o.ctx.fillStyle=i,o.ctx.fill(),o.ctx.stroke(),o.ctx.restore()}if(0!=c[1]){if(o.ctx.fillStyle=c[3],o.ctx.fillRect(2*e,2*n,o.w-4*e,o.h-4*n),o.ctx.fillStyle=o.alphaR2,o.ctx.fillRect(2*e,2*n,o.w-4*e,o.h-4*n),0!=c[5]&&c[5].startsWith("code")){console.log("code");var u=(o.w-2*e)/2;o.ctx.save(),o.ctx.translate(o.w2,o.h2),o.ctx.fillStyle="rgba(255,255,255,0.1)",o.ctx.fillRect(-u/2,-u/4,u,u/2),o.ctx.restore()}}else o.ctx.fillStyle=f(),o.ctx.fillRect(2*e,2*n,o.w-4*e,o.h-4*n),o.ctx.fillStyle=o.alphaR2,o.ctx.fillRect(2*e,2*n,o.w-4*e,o.h-4*n);o.ctx.drawWall(o.w-e,n,o.w-e-e,n+n,o.w-e-e,o.h-n-n,o.w-e,o.h-n,c[3],o.alphaR1,o.alphaR2)}else o.ctx.fillStyle=o.alphaR1,o.alphaR1,o.ctx.fillRect(e,n,o.w-2*e,o.h-2*n),0!=t[5]&&(t[5].startsWith("code")?(o.codeInput.innerHTML=o.code[t[5]][2](),o.codeContainer.style.display="block"):(o.msg.innerText=t[5],o.msgContainer.style.display="block"));0===t[2]?(o.ctx.line(o.w,n,o.w-e,n),o.ctx.line(o.w,o.h-n,o.w-e,o.h-n),o.ctx.fillStyle=o.alphaR1,o.ctx.fillRect(o.w-e,n,e,o.h-2*n)):(o.ctx.drawWall(o.w,0,o.w-e,n,o.w-e,o.h-n,o.w,o.h,t[3],o.alphaR0,o.alphaR1),0!=t[6]&&(o.ctx.beginPath(),o.ctx.moveTo(o.w,o.h2-n/2),o.ctx.lineTo(o.w-e+e/2,o.h2-n/3),o.ctx.lineTo(o.w-e+e/2,o.h2+n/3),o.ctx.lineTo(o.w,o.h2+n/2),o.ctx.lineTo(o.w,o.h2-n/2),(i=o.ctx.createLinearGradient(0,o.h2-n,0,o.h2+n)).addColorStop(0,"rgba(0,0,0,0.4)"),i.addColorStop(1,"rgba(0,0,0,0.6)"),o.ctx.fillStyle=i,o.ctx.fill(),o.ctx.stroke()));o.ctx.beginPath(),o.ctx.rect(e,n,o.w-2*e,o.h-2*n),o.ctx.stroke()}a(function(){(new u).init(t.song),o.drawRoom=h,o.getRoom=l,o.c=document.getElementById("canvas"),i(),o.ctx=o.c.getContext("2d"),o.msg=document.getElementById("message"),o.msgContainer=document.getElementById("messagecontainer"),o.codeContainer=document.getElementById("codecontainer"),o.codeInput=document.getElementById("code"),e.navigation.init(o),document.getElementById("solve").addEventListener("click",function(){var t=o.code["code".concat(o.pos).concat(o.dir)];t[3]()===t[1]&&(t[4](),o.code["c".concat(o.pos).concat(o.dir)]=void 0,e.navigation.update())}),o.ctx.line=function(t,e,n,r){this.beginPath(),this.moveTo(t,e),this.lineTo(n,r),this.stroke()},o.ctx.drawWall=function(t,e,n,r,a,c,i,l,d,f,h){o.ctx.beginPath(),o.ctx.moveTo(t,e),o.ctx.lineTo(n,r),o.ctx.lineTo(a,c),o.ctx.lineTo(i,l),o.ctx.lineTo(t,e);var u=o.ctx.createLinearGradient(t,e,n,e);u.addColorStop(0,f),u.addColorStop(1,h),o.ctx.fillStyle=d,o.ctx.fill(),o.ctx.fillStyle=u,o.ctx.fill(),o.ctx.line(t,e,n,r),o.ctx.line(a,c,i,l)},e.navigation.update()});var u=function(){var t,e,n,r,o,a=function(t){return Math.sin(6.283184*t)},c=function(t){return.003959503758*Math.pow(2,(t-128)/12)},i=function(t,e,n){var r,o,a,i,d,f,h,u=l[t.i[0]],s=t.i[1],x=t.i[3],p=l[t.i[4]],w=t.i[5],y=t.i[8],g=t.i[9],m=t.i[10]*t.i[10]*4,v=t.i[11]*t.i[11]*4,R=t.i[12]*t.i[12]*4,S=1/R,b=t.i[13],C=n*Math.pow(2,2-t.i[14]),T=new Int32Array(m+v+R),M=0,L=0;for(r=0,o=0;r<m+v+R;r++,o++)o>=0&&(o-=C,f=c(e+(15&(b=b>>8|(255&b)<<4))+t.i[2]-128),h=c(e+(15&b)+t.i[6]-128)*(1+8e-4*t.i[7])),a=1,r<m?a=r/m:r>=m+v&&(a-=(r-m-v)*S),i=f,x&&(i*=a*a),d=u(M+=i)*s,i=h,y&&(i*=a*a),d+=p(L+=i)*w,g&&(d+=(2*Math.random()-1)*g),T[r]=80*d*a|0;return T},l=[a,function(t){return t%1<.5?1:-1},function(t){return t%1*2-1},function(t){var e=t%1*4;return e<2?e-1:3-e}];this.init=function(a){t=a,e=a.endPattern,n=0,r=a.rowLen*a.patternLen*(e+1)*2,o=new Int32Array(r)},this.generate=function(){var c,d,f,h,u,s,x,p,w,y,g,m,v,R,S=new Int32Array(r),b=t.songData[n],C=t.rowLen,T=t.patternLen,M=0,L=0,A=!1,E=[];for(f=0;f<=e;++f)for(x=b.p[f],h=0;h<T;++h){var I=x?b.c[x-1].f[h]:0;I&&(b.i[I-1]=b.c[x-1].f[h+T]||0,I<16&&(E=[]));var k=l[b.i[15]],P=b.i[16]/512,W=Math.pow(2,b.i[17]-9)/C,B=b.i[18],O=b.i[19],j=43.23529*b.i[20]*3.141592/44100,G=1-b.i[21]/255,D=1e-5*b.i[22],q=b.i[23]/32,N=b.i[24]/512,H=6.283184*Math.pow(2,b.i[25]-9)/C,_=b.i[26]/255,U=b.i[27]*C&-2;for(g=(f*T+h)*C,u=0;u<4;++u)if(s=x?b.c[x-1].n[h+u*T]:0){E[s]||(E[s]=i(b,s,C));var Y=E[s];for(d=0,c=2*g;d<Y.length;d++,c+=2)S[c]+=Y[d]}for(d=0;d<C;d++)(y=S[p=2*(g+d)])||A?(m=j,B&&(m*=k(W*p)*P+.5),L+=(m=1.5*Math.sin(m))*(v=G*(y-L)-(M+=m*L)),y=3==O?L:1==O?v:M,D&&(y=(y*=D)<1?y>-1?a(.25*y):-1:1,y/=D),A=(y*=q)*y>1e-5,R=y*(1-(w=Math.sin(H*p)*N+.5)),y*=w):R=0,p>=U&&(R+=S[p-U+1]*_,y+=S[p-U]*_),S[p]=0|R,S[p+1]=0|y,o[p]+=0|R,o[p+1]+=0|y}return++n/t.numChannels},this.createWave=function(){var t=44+2*r-8,e=t-36,n=new Uint8Array(44+2*r);n.set([82,73,70,70,255&t,t>>8&255,t>>16&255,t>>24&255,87,65,86,69,102,109,116,32,16,0,0,0,1,0,2,0,68,172,0,0,16,177,2,0,4,0,16,0,100,97,116,97,255&e,e>>8&255,e>>16&255,e>>24&255]);for(var a=0,c=44;a<r;++a){var i=o[a];i=i<-32767?-32767:i>32767?32767:i,n[c++]=255&i,n[c++]=i>>8&255}return n},this.getData=function(t,e){for(var n=2*Math.floor(44100*t),r=new Array(e),a=0;a<2*e;a+=1){var c=n+a;r[a]=t>0&&c<o.length?o[c]/32768:0}return r}};
},{"./song.js":"gg0M","./navigation.js":"wuKc"}]},{},["mpVp"], null)
//# sourceMappingURL=/script.e353b66d.js.map