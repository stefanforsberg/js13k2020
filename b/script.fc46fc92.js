parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"gg0M":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.song=exports.errorsound=exports.successsound=void 0;var n={songData:[{i:[2,138,116,0,3,138,128,4,0,103,47,24,107,124,2,2,140,8,1,3,54,98,3,32,147,4,121,5],p:[1],c:[{n:[123],f:[]}]},{i:[0,100,104,1,0,56,104,0,1,229,4,40,21,0,0,0,231,6,1,3,46,15,0,32,232,4,123,6],p:[1],c:[{n:[123],f:[]}]}],rowLen:5513,patternLen:16,endPattern:0,numChannels:2};exports.successsound=n;var e={songData:[{i:[0,138,116,1,3,138,128,82,1,77,47,81,60,18,0,0,139,4,1,3,44,45,3,32,147,4,121,5],p:[1],c:[{n:[135],f:[]}]}],rowLen:5513,patternLen:16,endPattern:0,numChannels:1};exports.errorsound=e;var r={songData:[{i:[2,138,116,0,2,138,128,4,0,0,113,160,132,0,0,0,32,7,1,3,5,36,1,13,44,2,36,4],p:[1,2,1,2,1,2,1,2,1,2,3,2,1,2,3,2,1,2,3,2,1,2,3,2,1,2,3,2],c:[{n:[135,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,138,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,142],f:[21,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,5]},{n:[135,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,140,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,143],f:[]},{n:[133,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,137,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,140],f:[]}]},{i:[2,100,128,0,3,201,128,0,0,0,0,6,29,0,0,2,195,3,1,3,37,184,139,244,147,6,84,6],p:[,,,,,,,,,,,,,,,,,,,,1,2,3,2,1,2,3,2],c:[{n:[111,,,111,,123,111,,111,,,111,,111,123,,111,,,111,,123,111,,111,,118,111,130,111,123,126],f:[]},{n:[111,,,111,,123,111,,111,,,111,,111,123,,111,,,111,,123,111,,111,,128,111,131,111,123,126],f:[]},{n:[109,,,109,,121,109,,109,,,109,,109,121,,109,,,109,,121,109,,109,,114,116,121,109,121],f:[]}]},{i:[0,69,128,0,0,64,128,12,0,0,12,0,72,0,0,0,0,0,0,2,255,0,0,32,83,3,130,4],p:[,,,,1,2,1,2,1,4,3,2,1,4,3,2,1,4,3,2,1,4,3,2,1,4,3,2],c:[{n:[135,,,,,,,,,,130,,,,137,,138,,,,,,,,,,138,,,,137],f:[]},{n:[128,,,138,137,,138,,,,,,,,,,138,,,,,,131,,,,,,143,,142],f:[]},{n:[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,135,,,,,,,,,,142,,,,,,,,,,,,,,,,130,,,,,,,,,,,,,,,,,,143,,,,,,,,,,142,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,137],f:[]},{n:[128,,,138,137,,138,,,,,,,,,,138,,,,,,131,,,,,,142,,138],f:[]}]},{i:[0,0,140,0,0,0,140,0,0,61,4,10,34,0,0,0,187,5,0,1,239,135,0,32,108,5,16,4],p:[,,,,,,,,,,,,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],c:[{n:[135,,135,,135,,135,,135,,135,,135,,135,,135,,147,,147,,147,,147,,147,,147,,147],f:[10,,10,,10,,10,,10,,10,,10,,10,,10,,10,,10,,10,,10,,10,,10,,10,,61,,32,,61,,32,,61,,32,,61,,32,,61,,32,,61,,32,,61,,32,,61,,32]}]},{i:[0,255,116,1,0,255,116,0,1,0,4,6,35,0,0,0,0,0,0,2,14,0,0,32,0,0,0,0],p:[,,,,,,,,,,,,,,,,1,1,1,1,2,2,2,2,2,2,2,2],c:[{n:[135,,,,,,135,,,,,,135],f:[]},{n:[135,,,,135,,,,135,,,,135,,,,135,,,,135,,,,135,,,,135],f:[]}]},{i:[0,0,128,0,0,0,128,0,0,125,0,1,59,0,0,0,0,0,0,1,193,171,0,29,39,3,88,3],p:[],c:[]},{i:[3,113,140,0,1,92,128,3,0,0,103,59,59,0,0,2,151,3,1,3,4,35,11,32,31,3,157,6],p:[,,,,1,2,1,2,1,2,3,2,1,2,3,2,1,2,3,2,1,2,3,2,1,2,3,2],c:[{n:[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,135,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,142],f:[]},{n:[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,138,,,,,,,,,,,,,,,,,,,,130],f:[]},{n:[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,140,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,135],f:[]}]},{i:[0,160,128,1,0,160,128,0,1,167,4,7,41,0,0,0,12,4,1,2,255,0,0,32,61,5,32,6],p:[,,,,,,,,,,,,,,,,,,,,1,1,1,2,1,1,1,1],c:[{n:[,,,,123,,,,,,,,123,,,,,,,,123,,,,,,,,123],f:[]},{n:[,,,,123,,,,,,,,123,,,,,,,,123,,,,,123,,,123,,123,123],f:[]}]}],rowLen:7037,patternLen:32,endPattern:27,numChannels:8};exports.song=r;
},{}],"QgaL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.intro=void 0;var t={init:function(t,i){var e=this;this.g=t,this.fpsInterval=200,this.now=window.performance.now(),this.i=0,this.drawing=!0,this.paige=document.getElementById("paige"),this.paige.style.display="block",this.introText=document.getElementById("introtext"),this.msgContainer=document.getElementById("messagecontainer"),this.msgContainer.style.width=Math.floor(.8*(t.w-2*t.xdiff))+"px",this.title=document.getElementById("title"),this.title.style.top="15%",this.title.innerHTML="<p class='titleanimation2'>Finding Paige</p>",this.paige.addEventListener("click",function(){e.title.style.display="none",e.msgContainer.style.display="block",e.introText.style.display="block",e.introText.addEventListener("click",function(){e.introText.style.display="none",i()})})},draw:function(t){},stop:function(){this.drawing=!1,this.g.ctx.clearRect(0,0,this.g.w,this.g.h),this.paige.style.display="none",this.title.style.display="none",this.msgContainer.style.top="50%"}};exports.intro=t;
},{}],"DQCU":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.solve=void 0;var t={init:function(t,i){var h=this;this.g=t,this.fpsInterval=1e3/33,this.g.ctxe.strokeStyle="#f3f3f3",this.no01=document.getElementById("no01"),this.no02=document.getElementById("no02");var e=t.w>t.h?Math.floor(t.h/2):Math.floor(t.w/2);this.no01.style.fontSize="".concat(e,"px"),this.no02.style.fontSize="".concat(e,"px"),this.callback=i,document.getElementById("solve").addEventListener("click",function(){var i=t.room.getRoom(),e=t.room.currentCode[i[5]];console.log(e[3]()+" / "+e[3]().hashCode()),e[3]().hashCode()===e[1]?(t.ce.style.display="block",e[4](),t.room.currentRoom[t.pos][6]=0,t.navigation.update(),t.audioSuccessSound.play(),t.increaseChaos(),t.room.drawRoom(!0),t.solve.setupDraw(),t.solve.draw()):(h.fail(),t.audioErrorSound.play())}),document.getElementById("cheat").addEventListener("click",function(){var i=t.room.getRoom(),h=t.room.currentCode[i[5]];t.ce.style.display="block",h[4](),t.room.currentRoom[t.pos][6]=0,t.navigation.update(),t.audioSuccessSound.play(),t.increaseChaos(),t.room.drawRoom(!0),t.solve.setupDraw(),t.solve.draw()}),String.prototype.hashCode=function(){var t=0;if(0==this.length)return t;for(var i=0;i<this.length;i++){t=(t<<5)-t+this.charCodeAt(i),t&=t}return t}},solving:function(){},setupDraw:function(){this.i=0,this.drawing=!0,this.lengthx=this.g.w-2*this.g.xdiff,this.lengthy=this.g.h-2*this.g.ydiff,this.currentLengthx=0,this.currentLengthy=0,this.speedx=this.lengthx/10,this.speedy=this.lengthy/10,this.now=window.performance.now()},draw:function(t){if(!this.drawing)return this.g.ctxe.clearRect(0,0,this.g.w,this.g.h),void(this.g.ce.style.display="none");if(!t){var i,h;t=window.performance.now();for(var e=0;e<100;e++){this.g.ctxe.strokeStyle="rgba(255,255,255,".concat(.8*Math.random(),")");var s=this.g.xdiff+2*Math.random()*(this.g.w2-this.g.xdiff),o=this.g.ydiff+2*Math.random()*(this.g.h2-this.g.ydiff);this.g.h2,this.g.w2;this.g.ctxe.line(s,o,this.g.w2,this.g.h2);for(var n=0;n<40;n++)this.g.ctxe.strokeStyle="rgba(255,255,255,".concat(.1*Math.random(),")"),this.g.ctxe.line(s-n+2*Math.random()*n,o-n+2*Math.random()*n,s,o);Math.random()>.6&&i&&(this.g.ctxe.beginPath(),this.g.ctxe.fillStyle="rgba(255,255,255,".concat(.1*Math.random(),")"),this.g.ctxe.moveTo(this.g.w2,this.g.h2),this.g.ctxe.lineTo(s,o),this.g.ctxe.lineTo(i,h),this.g.ctxe.fill()),i=s,h=o}for(e=0;e<40;e++){var g=this.g.xdiff+2*Math.random()*(this.g.w2-this.g.xdiff),r=this.g.ydiff+2*Math.random()*(this.g.h2-this.g.ydiff);this.g.ctxe.strokeStyle="rgba(255,255,255,".concat(.4,")"),this.g.ctxe.line(g-e+2*Math.random()*e,r-e+2*Math.random()*e,g,r)}}var a=t-this.now;if(this.drawing&&window.requestAnimationFrame(this.draw.bind(this)),this.g.ctxe.strokeStyle="rgba(255,255,255,1)",a>this.fpsInterval){this.now=t-a%this.fpsInterval,this.currentLengthx+=this.speedx,this.currentLengthy+=this.speedy,this.currentLengthx>this.lengthx&&(this.currentLengthx=this.lengthx,this.drawing=!1),this.currentLengthy>this.lengthy&&(this.currentLengthy=this.lengthy),this.g.ctxe.beginPath(),this.g.ctxe.moveTo(this.g.xdiff,this.g.ydiff),this.g.ctxe.lineTo(this.g.xdiff+this.currentLengthx,this.g.ydiff),this.g.ctxe.stroke(),this.g.ctxe.beginPath(),this.g.ctxe.moveTo(this.g.w-this.g.xdiff,this.g.h-this.g.ydiff),this.g.ctxe.lineTo(this.g.w-this.g.xdiff-this.currentLengthx,this.g.h-this.g.ydiff),this.g.ctxe.stroke(),this.g.ctxe.beginPath(),this.g.ctxe.moveTo(this.g.xdiff,this.g.h-this.g.ydiff),this.g.ctxe.lineTo(this.g.xdiff,this.g.h-this.g.ydiff-this.currentLengthy),this.g.ctxe.stroke(),this.g.ctxe.beginPath(),this.g.ctxe.moveTo(this.g.w-this.g.xdiff,this.g.ydiff),this.g.ctxe.lineTo(this.g.w-this.g.xdiff,this.g.ydiff+this.currentLengthy),this.g.ctxe.stroke();for(e=0;e<20;e++){var c=this.g.xdiff+2*Math.random()*(this.g.w2-this.g.xdiff),d=this.g.ydiff+2*Math.random()*(this.g.h2-this.g.ydiff);this.g.ctxe.strokeStyle="rgba(255,255,255,".concat(.4,")"),this.g.ctxe.line(c-e+2*Math.random()*e,d-e+2*Math.random()*e,c,d)}console.log(this.speedx/this.lengthx),this.g.ctxe.fillStyle="rgba(255,255,255,0.04)",this.g.ctxe.fillRect(this.g.xdiff,this.g.ydiff,this.g.w-2*this.g.xdiff,this.g.h-2*this.g.ydiff)}},stop:function(){this.drawing=!1,this.g.ctx.clearRect(0,0,this.g.w,this.g.h)},fail:function(){var t=this;this.no01.style.display="block",this.no02.style.display="block",setTimeout(function(){t.no01.style.display="none",t.no02.style.display="none"},500)}};exports.solve=t;
},{}],"wuKc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.navigation=void 0;var t={init:function(t){var e=document.getElementById("navigation");e.style.bottom="".concat(t.ydiff,"px"),e.style.height="".concat(Math.floor(1.5*t.ydiff),"px"),Array.from(e.getElementsByTagName("svg")).forEach(function(e){e.setAttribute("width","".concat(Math.floor(2*t.ydiff))),e.setAttribute("height","".concat(Math.floor(2*t.ydiff)))}),document.getElementById("nav-left").style.opacity=1,document.getElementById("nav-right").style.opacity=1,this.g=t,document.getElementById("nav-left").addEventListener("click",function(e){t.room.turnLeft()}),document.getElementById("nav-right").addEventListener("click",function(e){t.room.turnRight()}),document.getElementById("nav-forward").addEventListener("click",function(e){t.room.moveForward()})},update:function(){document.getElementById("nav-forward").style.opacity=1,this.g.room.getRoom()[1]>0&&(document.getElementById("nav-forward").style.opacity=0)}};exports.navigation=t;
},{}],"U5Xy":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.room=void 0;var t={init:function(t){var e=this;this.g=t,this.xdiff=Math.round(t.w>t.h?t.w/10:t.w/8),this.ydiff=Math.round(t.w>t.h?t.h/8:t.h/15),this.msg=document.getElementById("message"),this.msgContainer=document.getElementById("messagecontainer"),this.codeContainer=document.getElementById("codecontainer"),this.codeOverlay=document.getElementById("codeoverlay"),this.codeInput=document.getElementById("code"),this.teleportcontainer=document.getElementById("teleportcontainer"),this.body=document.getElementById("body"),this.colorRed="#F57A8D",this.colorBlue="#68D0F7",this.startRoom=[[1,0,1,1,"#898989",0,0,0,"You should not be here"],[1,0,1,0,"#898989",0,0,0,0],[1,1,1,0,"#898989",0,"code20Start",0,0],[1,0,1,0,"#898989",0,0,0,0],[1,1,1,0,"#898989",0,"code40Start",0,0],[1,0,1,0,"#898989",0,0,0,0],[1,0,1,0,"#898989",0,0,"Andrea was always such a square",0],[1,1,1,0,"#898989",0,"code70Start",0,0],[1,0,1,0,"#898989",0,0,"It was always so weird how they name our cat Charlie",0],[1,0,-1,0,"#898989","My best friends lived on Ceadar Street, Main Street and Oxcrowl Street",0,this.colorRed,0],[-3,0,1,0,"#898989",this.colorBlue,0,0,0],[1,1,1,0,"#898989",0,"code110Start",0,0],[1,1,1,0,"#898989",0,"code120Start",0,0],[1,0,1,0,"#898989",0,0,0,0],[1,0,1,0,"#898989","My step dad Harry basically raised me. My dad is half the man he is.",0,"In some ways Harry and Andrea were very similar",0],[1,1,1,0,"#898989",0,"code150Start",0,0],[1,0,1,0,"#898989",0,0,0,0],[1,0,1,0,"#898989",0,0,0,0],[1,0,1,0,"#898989",0,0,0,0],[1,0,1,0,"#898989",0,0,0,0],[1,0,1,0,"#898989","Peter<br/>He/Him",0,0,0],[1,1,1,0,"#898989",0,"code210Start",0,0],[1,1,1,0,"#898989",0,"The end of beta ^^",0,0]],this.redRoom=[[1,0,1,1,this.colorRed,0,0,0,0],[1,0,1,0,this.colorRed,0,0,"Ceadar Street<br/>F0: Karen<br/>F1: Amanda<br/>F2: Joanne<br/>F3: Oliver<br/>F4: Isla<br/>",0],[1,0,1,0,this.colorRed,0,0,0,0],[1,0,-2,0,this.colorRed,"Help me<br/>. . . - - - . . .",0,"#898989",0],[1,1,1,0,this.colorRed,0,"code4Red",0,0],[1,1,1,0,this.colorRed,0,"Red color is unlocked",0,0]],this.blueRoom=[[1,0,1,1,this.colorBlue,0,0,0,0],[1,0,1,0,this.colorBlue,0,0,"Main Street<br/>F0: Callum<br/>F1: Reece<br/>F2: Damian<br/>F3: Patricia<br/>F4: Samantha<br/>",0],[1,0,1,0,this.colorBlue,"Oxcrowl Street<br/>F0: Jake<br/>F1: John<br/>F2: Margaret<br/>F3: Susan<br/>F4: Sophie<br/>",0,0,0],[1,0,-2,0,this.colorBlue,0,0,"#898989",0],[1,0,1,0,this.colorBlue,"That pervert Mr Andrews was always looking at my legs",0,0,0],[1,1,1,0,this.colorBlue,0,"code5Blue",0,0],[1,1,1,0,this.colorBlue,0,"Blue color is unlocked",0,0]],this.startRoomCode={code20Start:["c20",51512,function(){return(e.generateSelect([4])+e.generateSelect([0])+e.generateSelect([4])).replace(/<select>/g,"<select style='width:33%'>")},function(){return Array.prototype.map.call(document.getElementsByTagName("select"),function(t){return t.value}).reduce(function(t,e){return t+e},"")},function(){t.room.currentRoom[2][1]=0}],code40Start:["c40",51512,function(){var t=Array.from(Array(10).keys());return(e.generateSelect(t)+e.generateSelect(t)+e.generateSelect(t)).replace(/<select>/g,"<select style='width:33%'>")},function(){return Array.prototype.map.call(document.getElementsByTagName("select"),function(t){return t.value}).reduce(function(t,e){return t+e},"")},function(){t.room.currentRoom[4][1]=0}],code70Start:["c70",46908944,function(){var t=Array.from(Array(21).keys());return("<p class='title'>Andrea</p>"+e.generateSelect(t)+e.generateSelect(t)+e.generateSelect(t)).replace(/<select>/g,"<select style='width:33%'>")},function(){return Array.prototype.map.call(document.getElementsByTagName("select"),function(t){return t.value}).reduce(function(t,e){return t+e},"")},function(){t.room.currentRoom[7][1]=0}],code110Start:["c110",51512,function(){var t=1===e.redRoom[4][1]?["Red"]:["4"],o=1===e.blueRoom[5][1]?["Blue"]:["0"];return"".concat(e.generateSelect(t)+e.generateSelect(o)+e.generateSelect(["4"])).replace(/<select>/g,"<select style='width:100%'>")},function(){return Array.prototype.map.call(document.getElementsByTagName("select"),function(t){return t.value}).reduce(function(t,e){return t+e},"")},function(){t.room.currentRoom[11][1]=0}],code120Start:["c120",-146555803,function(){var t=["Reece","Margaret","John","Damian","Sophie","Karen","Callum","Susan","Amanda","Patricia","Isla","Samantha","Joanne","Oliver"];return"<p class='title'>Friends</p>".concat(e.generateSelect(t)+e.generateSelect(t)+e.generateSelect(t)).replace(/<select>/g,"<select style='width:100%'>")},function(){return Array.prototype.map.call(document.getElementsByTagName("select"),function(t){return t.value}).reduce(function(t,e){return t+e},"")},function(){t.room.currentRoom[12][1]=0}],code150Start:["c150",1513197,function(){var t=Array.from(Array(21).keys());return"<p class='title'>Harry / ? / Dad</p>".concat(e.generateSelect(t)+e.generateSelect(t)+e.generateSelect(t)).replace(/<select>/g,"<select style='width:100%'>")},function(){return Array.prototype.map.call(document.getElementsByTagName("select"),function(t){return t.value}).reduce(function(t,e){return t+e},"")},function(){t.room.currentRoom[15][1]=0}],code210Start:["c210",1169578626,function(){var t=Array.from(Array(2).keys()),o=e.generateSelect(t).replace(/<select>/g,"<select style='width:25%'>");return"<p class='title'>Peter</p>".concat(o+o+o+o,"<br />").concat(o+o+o+o,"<br />").concat(o+o+o+o)},function(){return Array.prototype.map.call(document.getElementsByTagName("select"),function(t){return t.value}).reduce(function(t,e){return t+e},"")},function(){t.room.currentRoom[21][1]=0}],code4Red:["code4Red",-1191407169,function(){var t=[".","_"];return"".concat(e.generateSelect(t)+e.generateSelect(t)+e.generateSelect(t)+e.generateSelect(t)+e.generateSelect(t),"<br/>").concat(e.generateSelect(t)+e.generateSelect(t)+e.generateSelect(t)+e.generateSelect(t)+e.generateSelect(t),"<br/>").concat(e.generateSelect(t)+e.generateSelect(t)+e.generateSelect(t)+e.generateSelect(t)+e.generateSelect(t)).replace(/<select>/g,"<select style='width:20%'>")},function(){return Array.prototype.map.call(document.getElementsByTagName("select"),function(t){return t.value}).reduce(function(t,e){return t+e},"")},function(){t.room.currentRoom[4][1]=0}],code5Blue:["code5Blue",1517551447,function(){return"<p class='title'>Mr Andrews</p>".concat(e.generateSelect(["Flamingo","King Crab","Horse","Peter","Scorpion"])+e.generateSelect(["Sea star","Black Widow","Elephant","Peter","Rattlesnake"])+e.generateSelect(["Cockroach","Charlie","Cobra","Molly","Penguin","Bullshark"])).replace(/<select>/g,"<select style='width:100%'>")},function(){return Array.prototype.map.call(document.getElementsByTagName("select"),function(t){return t.value}).reduce(function(t,e){return t+e},"")},function(){t.room.currentRoom[5][1]=0}]},this.currentCode=this.startRoomCode,this.currentRoom=this.startRoom},generateSelect:function(t){return"<select>".concat(t.reduce(function(t,e){return t+"<option>".concat(e,"</option>")},""),"</select>")},turnLeft:function(){this.g.dir--,this.g.dir<0&&(this.g.dir=3),this.drawRoom(!0)},turnRight:function(){this.g.dir++,this.g.dir>3&&(this.g.dir=0),this.drawRoom(!0)},moveForward:function(){var t=this.getRoom();console.log(t),t[1]<1&&(-1===t[1]?(this.body.style.backgroundColor=this.colorRed,this.currentRoom=this.redRoom,this.g.pos=0,this.g.dir=0):-2===t[1]?(this.body.style.backgroundColor="#898989",this.currentRoom=this.startRoom,this.g.pos=9,this.g.dir=3):-3===t[1]?(this.body.style.backgroundColor=this.colorBlue,this.currentRoom=this.blueRoom,this.g.pos=0,this.g.dir=0):this.g.pos+=0===this.g.dir?1:-1,this.drawRoom(!0))},getRoom:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;console.log(this.g.pos+","+this.g.dir+","+t),t=0===this.g.dir?this.g.pos+t:2===this.g.dir?this.g.pos-t:this.g.pos;var e=this.currentRoom[t];switch(this.g.dir){case 0:return[e[0],e[1],e[2],e[4],e[5],e[6],e[7]];case 1:return[e[1],e[2],e[3],e[4],e[6],e[7],e[8]];case 2:return[e[2],e[3],e[0],e[4],e[7],e[8],e[5]];case 3:return[e[3],e[0],e[1],e[4],e[8],e[5],e[6]]}},drawRoom:function(t){var e=this;t&&(this.msgContainer.style.display="none",this.codeContainer.style.display="none",this.teleportcontainer.style.display="none"),this.g.ctx.clearRect(0,0,this.g.w,this.g.h);for(var o=0;o<3;o++){var r,i=this.getRoom(o),s=this.xdiff,c=this.ydiff,a=o*s,n=o*c;2==o&&(s=Math.floor(.7*s),c=Math.floor(.7*c)),console.log(this.g.chaos.level),s+=Math.floor((-1*this.g.chaos.level+2*this.g.chaos.level)*Math.random()*.3*this.g.chaos.level),c+=Math.floor((-1*this.g.chaos.level+2*this.g.chaos.level)*Math.random()*.2*this.g.chaos.level),this.g.ctx.fillStyle=i[3],this.g.ctx.fillRect(0+a,0+n,this.g.w-2*a,c),(r=this.g.ctx.createLinearGradient(0+a,0+n,0+a,n+c)).addColorStop(0,this.g["alphaR".concat(o)]),r.addColorStop(1,this.g["alphaR".concat(o+1)]),this.g.ctx.fillStyle=r,this.g.ctx.fillRect(0+a,0+n,this.g.w-2*a,c),this.g.ctx.fillStyle=i[3],this.g.ctx.fillRect(0+a,this.g.h-c-n,this.g.w-2*a,c),(r=this.g.ctx.createLinearGradient(0,this.g.h-n,0,this.g.h-n-c)).addColorStop(0,this.g["alphaR".concat(o)]),r.addColorStop(1,this.g["alphaR".concat(o+1)]),this.g.ctx.fillStyle=r,this.g.ctx.fillRect(0+a,this.g.h-c-n,this.g.w-2*a,c),this.g.ctx.beginPath(),this.g.ctx.moveTo(0+a,0+n),this.g.ctx.lineTo(this.g.w-a,0+n),this.g.ctx.lineTo(this.g.w-a,this.g.h-n),this.g.ctx.lineTo(0+a,this.g.h-n),this.g.ctx.lineTo(0+a,0+n),this.g.ctx.stroke();var l=i[3];if(Math.random()<this.g.chaos.colorChance&&(l="#"+Math.floor(16777215*Math.random()).toString(16)),1===i[0]){if(this.g.ctx.line(0+a,0+n,0+a+s,0+n+c),this.g.ctx.line(0+a,this.g.h-n,0+a+s,this.g.h-n-c),this.g.ctx.drawWall(0+a,0+n,0+a+s,0+n+c,0+a+s,this.g.h-n-c,0+a,this.g.h-n,l,this.g["alphaR".concat(o)],this.g["alphaR".concat(o+1)]),0!==i[4]){var h=0===o?0:0+a+s/(10/o),g=0===o?s/2:s-2*s/(10/o);this.g.ctx.save(),this.g.ctx.rect(h,0,g,this.g.h),this.g.ctx.clip(),this.g.ctx.beginPath(),this.g.ctx.fillStyle=i[4].startsWith("c")?"rgba(255,255,255,0.3)":"rgba(0,0,0,0.3)",this.g.ctx.moveTo(0,this.g.h2-this.g.h2/6),this.g.ctx.lineTo(this.g.w2,this.g.h2),this.g.ctx.lineTo(0,this.g.h2+this.g.h2/6),this.g.ctx.fill(),this.g.ctx.restore()}}else 0===o&&(this.g.ctx.fillStyle=l,this.g.ctx.fillRect(0+a,c,s,this.g.h-2*c)),this.g.ctx.fillStyle=this.g["alphaR".concat(o+1)],this.g.ctx.fillRect(0+a,0+n+c,s,this.g.h-n-c-n-c),this.g.ctx.line(0+a,0+n+c,0+a+s,0+n+c),this.g.ctx.line(0+a,this.g.h-n-c,0+a+s,this.g.h-n-c);if(l=i[3],Math.random()<this.g.chaos.colorChance&&(l="#"+Math.floor(16777215*Math.random()).toString(16)),1===i[2]){if(this.g.ctx.line(this.g.w-a,0+n,this.g.w-a-s,0+n+c),this.g.ctx.line(this.g.w-a,this.g.h-n,this.g.w-a-s,this.g.h-n-c),this.g.ctx.drawWall(this.g.w-a,0+n,this.g.w-a-s,n+c,this.g.w-a-s,this.g.h-n-c,this.g.w-a,this.g.h-n,l,this.g["alphaR".concat(o)],this.g["alphaR".concat(o+1)]),0!==i[6]){var u=0===o?this.g.w-s/2:this.g.w-a-s+s/(10/o),d=0===o?s/2:s-2*s/(10/o);this.g.ctx.save(),this.g.ctx.rect(u,0,d,this.g.h),this.g.ctx.clip(),this.g.ctx.beginPath(),this.g.ctx.fillStyle=i[6].startsWith("c")?"rgba(255,255,255,0.3)":"rgba(0,0,0,0.3)",this.g.ctx.moveTo(this.g.w,this.g.h2-this.g.h2/6),this.g.ctx.lineTo(this.g.w2,this.g.h2),this.g.ctx.lineTo(this.g.w,this.g.h2+this.g.h2/6),this.g.ctx.fill(),this.g.ctx.restore()}}else 0===o&&(this.g.ctx.fillStyle=l,this.g.ctx.fillRect(this.g.w-s,c,s,this.g.h-2*c)),this.g.ctx.fillStyle=this.g["alphaR".concat(o+1)],this.g.ctx.fillRect(this.g.w-a-s,0+n+c,s,this.g.h-n-c-n-c),this.g.ctx.line(this.g.w-a,0+n+c,this.g.w-a-s,0+n+c),this.g.ctx.line(this.g.w-a,this.g.h-n-c,this.g.w-a-s,this.g.h-n-c);if(l=i[3],Math.random()<this.g.chaos.colorChance&&(l="#"+Math.floor(16777215*Math.random()).toString(16)),1===i[1]||2===o){this.g.ctx.fillStyle=l,this.g.ctx.fillRect(s+a,c+n,this.g.w-2*a-2*s,this.g.h-2*n-2*c),this.g.ctx.fillStyle=this.g["alphaR".concat(o+1)],this.g.ctx.fillRect(s+a,c+n,this.g.w-2*a-2*s,this.g.h-2*n-2*c),this.g.ctx.strokeRect(s+a,c+n,this.g.w-2*a-2*s,this.g.h-2*n-2*c),t&&this.drawWallDecorations(i,o);break}}t&&this.g.navigation.update(),console.log("to: "+this.timeout),!this.timeout&&this.g.chaos.level>0&&(console.log("setting new to"),this.timeout=setTimeout(function(){console.log("Clearing timeout and setting new: "+e.timeout),clearTimeout(e.timeout),e.timeout=void 0,e.drawRoom(!1)},this.g.chaos.updateTime))},drawWallDecorations:function(t,e){0!=t[5]&&(t[5].startsWith("code")?(this.codeContainer.style.display="block",this.codeInput.innerHTML=this.currentCode[t[5]][2](),0===e?(this.codeOverlay.style.display="none",this.codeContainer.style.opacity="1",this.codeContainer.style.transform="translate(-50%,-50%) scale(1)"):(this.codeOverlay.style.display="block",this.codeContainer.style.opacity="".concat(1-.4*e),this.codeContainer.style.transform="translate(-50%,-50%) scale(".concat(1-.4*e,")"))):(console.log("room 1 : "+t[1]),t[1]<0?(this.teleportcontainer.style.backgroundColor=t[5],this.teleportcontainer.style.display="block"):(this.msg.innerHTML=t[5],this.msg.classList.remove("glitchanimation"),this.msgContainer.style.display="block",this.msgContainer.style.opacity="".concat(1-.4*e),this.msgContainer.style.transform="translate(-50%,-50%) scale(".concat(1-.4*e,")"),0===e&&this.msg.classList.add("glitchanimation"))))}};exports.room=t;
},{}],"mpVp":[function(require,module,exports) {
"use strict";var t=a(require("./song.js")),e=require("./intro.js"),n=require("./solve.js"),i=require("./navigation.js"),o=require("./room.js");function r(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return r=function(){return t},t}function a(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=r();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=i?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n.default=t,e&&e.set(t,n),n}var c={w:500,h:250,w2:250,h2:125,pos:0,dir:0,chaos:{level:1,updateTime:1e4,colorChance:.001},alphaR0:"rgba(0,0,0,0)",alphaR1:"rgba(0,0,0,0.2)",alphaR2:"rgba(0,0,0,0.7)",alphaR3:"rgba(0,0,0,0.9)",increaseChaos:function(){this.chaos.level++,console.log("increase chaos: "+this.chaos.level),this.chaos.level<4?(this.chaos.colorChance=.001,this.chaos.updateTime=3e3):this.chaos.level<10?(this.chaos.colorChance=.01,this.chaos.updateTime=1e3):(this.chaos.colorChance=.05,this.chaos.updateTime=500)}};function u(t){"loading"!=document.readyState?t():document.addEventListener("DOMContentLoaded",t)}function s(){var t=window.innerHeight-20,e=window.innerWidth-20;t>800&&(t=800),e>800&&(e=800),c.w=e,c.w2=Math.floor(e/2),c.h=t,c.h2=Math.floor(t/2),c.c.width=e,c.c.height=t,c.ce.width=e,c.ce.height=t,c.xdiff=Math.round(c.w>c.h?c.w/10:c.w/8),c.ydiff=Math.round(c.w>c.h?c.h/8:c.h/15)}function h(t,e){if(t.generate()>=1){var n=t.createWave(),i=new Blob([n],{type:"audio/wav"}),o=window.URL.createObjectURL(i);e(o)}else setTimeout(function(){return h(t,e)},100)}function l(){c.ctx=c.c.getContext("2d"),c.ctxe=c.ce.getContext("2d"),o.room.init(c),c.room=o.room,e.intro.init(c,function(){new(window.AudioContext||window.webkitAudioContext);c.audioSong.loop=!0,c.audioSong.play(),e.intro.stop(),c.ctx.strokeStyle="rgba(0,0,0,1)",i.navigation.init(c),c.navigation=i.navigation,n.solve.init(c),c.solve=n.solve,c.room.drawRoom(!0)}),e.intro.draw(),c.ctx.line=c.ctxe.line=function(t,e,n,i){this.beginPath(),this.moveTo(t,e),this.lineTo(n,i),this.stroke()},c.ctx.drawWall=function(t,e,n,i,o,r,a,u,s,h,l){c.ctx.beginPath(),c.ctx.moveTo(t,e),c.ctx.lineTo(n,i),c.ctx.lineTo(o,r),c.ctx.lineTo(a,u),c.ctx.lineTo(t,e);var d=c.ctx.createLinearGradient(t,e,n,e);d.addColorStop(0,h),d.addColorStop(1,l),c.ctx.fillStyle=s,c.ctx.fill(),c.ctx.fillStyle=d,c.ctx.fill(),c.ctx.line(t,e,n,i),c.ctx.line(o,r,a,u)}}window.g=c,u(function(){var e=new d;c.c=document.getElementById("canvas"),c.ce=document.getElementById("canvaseffect"),s(),e.init(t.song),c.audioSong=new Audio,c.audioErrorSound=new Audio,c.audioSuccessSound=new Audio,h(e,function(n){c.audioSong.src=n,e.init(t.errorsound),h(e,function(n){c.audioErrorSound.src=n,e.init(t.successsound),h(e,function(t){c.audioSuccessSound.src=t,l()})})})});var d=function(){var t,e,n,i,o,r=function(t){return Math.sin(6.283184*t)},a=function(t){return.003959503758*Math.pow(2,(t-128)/12)},c=function(t,e,n){var i,o,r,c,s,h,l,d=u[t.i[0]],f=t.i[1],w=t.i[3],v=u[t.i[4]],g=t.i[5],p=t.i[8],x=t.i[9],y=t.i[10]*t.i[10]*4,m=t.i[11]*t.i[11]*4,M=t.i[12]*t.i[12]*4,b=1/M,S=t.i[13],C=n*Math.pow(2,2-t.i[14]),j=new Int32Array(y+m+M),T=0,A=0;for(i=0,o=0;i<y+m+M;i++,o++)o>=0&&(o-=C,h=a(e+(15&(S=S>>8|(255&S)<<4))+t.i[2]-128),l=a(e+(15&S)+t.i[6]-128)*(1+8e-4*t.i[7])),r=1,i<y?r=i/y:i>=y+m&&(r-=(i-y-m)*b),c=h,w&&(c*=r*r),s=d(T+=c)*f,c=l,p&&(c*=r*r),s+=v(A+=c)*g,x&&(s+=(2*Math.random()-1)*x),j[i]=80*s*r|0;return j},u=[r,function(t){return t%1<.5?1:-1},function(t){return t%1*2-1},function(t){var e=t%1*4;return e<2?e-1:3-e}];this.init=function(r){t=r,e=r.endPattern,n=0,i=r.rowLen*r.patternLen*(e+1)*2,o=new Int32Array(i)},this.generate=function(){var a,s,h,l,d,f,w,v,g,p,x,y,m,M,b=new Int32Array(i),S=t.songData[n],C=t.rowLen,j=t.patternLen,T=0,A=0,O=!1,L=[];for(h=0;h<=e;++h)for(w=S.p[h],l=0;l<j;++l){var P=w?S.c[w-1].f[l]:0;P&&(S.i[P-1]=S.c[w-1].f[l+j]||0,P<16&&(L=[]));var R=u[S.i[15]],W=S.i[16]/512,k=Math.pow(2,S.i[17]-9)/C,q=S.i[18],D=S.i[19],E=43.23529*S.i[20]*3.141592/44100,I=1-S.i[21]/255,B=1e-5*S.i[22],U=S.i[23]/32,_=S.i[24]/512,G=6.283184*Math.pow(2,S.i[25]-9)/C,H=S.i[26]/255,z=S.i[27]*C&-2;for(x=(h*j+l)*C,d=0;d<4;++d)if(f=w?S.c[w-1].n[l+d*j]:0){L[f]||(L[f]=c(S,f,C));var F=L[f];for(s=0,a=2*x;s<F.length;s++,a+=2)b[a]+=F[s]}for(s=0;s<C;s++)(p=b[v=2*(x+s)])||O?(y=E,q&&(y*=R(k*v)*W+.5),A+=(y=1.5*Math.sin(y))*(m=I*(p-A)-(T+=y*A)),p=3==D?A:1==D?m:T,B&&(p=(p*=B)<1?p>-1?r(.25*p):-1:1,p/=B),O=(p*=U)*p>1e-5,M=p*(1-(g=Math.sin(G*v)*_+.5)),p*=g):M=0,v>=z&&(M+=b[v-z+1]*H,p+=b[v-z]*H),b[v]=0|M,b[v+1]=0|p,o[v]+=0|M,o[v+1]+=0|p}return++n/t.numChannels},this.createWave=function(){var t=44+2*i-8,e=t-36,n=new Uint8Array(44+2*i);n.set([82,73,70,70,255&t,t>>8&255,t>>16&255,t>>24&255,87,65,86,69,102,109,116,32,16,0,0,0,1,0,2,0,68,172,0,0,16,177,2,0,4,0,16,0,100,97,116,97,255&e,e>>8&255,e>>16&255,e>>24&255]);for(var r=0,a=44;r<i;++r){var c=o[r];c=c<-32767?-32767:c>32767?32767:c,n[a++]=255&c,n[a++]=c>>8&255}return n},this.getData=function(t,e){for(var n=2*Math.floor(44100*t),i=new Array(e),r=0;r<2*e;r+=1){var a=n+r;i[r]=t>0&&a<o.length?o[a]/32768:0}return i}};
},{"./song.js":"gg0M","./intro.js":"QgaL","./solve.js":"DQCU","./navigation.js":"wuKc","./room.js":"U5Xy"}]},{},["mpVp"], null)
//# sourceMappingURL=script.fc46fc92.js.map