parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"gg0M":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.song=exports.errorsound=exports.successsound=void 0;var n={songData:[{i:[2,138,116,0,3,138,128,4,0,103,47,24,107,124,2,2,140,8,1,3,54,98,3,32,147,4,121,5],p:[1],c:[{n:[123],f:[]}]},{i:[0,100,104,1,0,56,104,0,1,229,4,40,21,0,0,0,231,6,1,3,46,15,0,32,232,4,123,6],p:[1],c:[{n:[123],f:[]}]}],rowLen:5513,patternLen:16,endPattern:0,numChannels:2};exports.successsound=n;var e={songData:[{i:[0,138,116,1,3,138,128,82,1,77,47,81,60,18,0,0,139,4,1,3,44,45,3,32,147,4,121,5],p:[1],c:[{n:[135],f:[]}]}],rowLen:5513,patternLen:16,endPattern:0,numChannels:1};exports.errorsound=e;var r={songData:[{i:[2,138,116,0,2,138,128,4,0,0,48,160,132,0,0,0,55,4,1,3,7,64,3,13,44,4,36,4],p:[1,2,1,2,1,2,1,2],c:[{n:[135,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,138,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,142],f:[]},{n:[135,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,140,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,143],f:[]}]},{i:[2,100,128,0,3,201,128,0,0,0,0,6,29,0,0,0,195,4,1,3,50,184,119,244,147,6,84,6],p:[],c:[]},{i:[0,91,128,0,0,95,128,12,0,0,12,0,72,0,0,0,0,0,0,2,255,0,0,32,83,3,130,4],p:[10,10,10,10,1,2,1,2],c:[{n:[135,,,,,,,,,,130,,,,137,,138,,,,,,,,,,138,,,,137],f:[]},{n:[128,,,138,137,,138,,,,,,,,,,138,,,,,,131,,,,,,143,,142],f:[]},{n:[,,,,,,138,,,,,,,,,,,,,,,,,,,,,,,,,,137,,,,,,,,,,,,,,,,,,,,,,,,,,133,,,,,,,,,,,,,,,,,,137,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,140],f:[]},{n:[128,,,138,137,,138,,,,,,,,,,138,,,,,,131,,,,,,142,,138],f:[]},{n:[],f:[]},{n:[],f:[]},{n:[],f:[]},{n:[],f:[]},{n:[],f:[]},{n:[],f:[]}]},{i:[2,100,128,0,3,201,128,0,0,0,5,6,58,0,0,0,195,6,1,2,135,0,0,32,147,6,121,6],p:[],c:[]},{i:[2,100,128,0,3,201,128,0,0,0,5,6,58,0,0,0,195,6,1,2,135,0,0,32,147,6,121,6],p:[],c:[]},{i:[2,100,128,0,3,201,128,0,0,0,5,6,58,0,0,0,195,6,1,2,135,0,0,32,147,6,121,6],p:[],c:[]},{i:[3,146,140,0,1,92,128,3,0,0,25,121,79,0,0,2,151,3,1,3,6,35,11,32,150,3,157,6],p:[10,10,10,10,1,2,1,2],c:[{n:[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,135,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,142],f:[]},{n:[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,138,,,,,,,,,,,,,,,,,,,,130],f:[]},{n:[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,140,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,135],f:[]},{n:[],f:[]},{n:[],f:[]},{n:[],f:[]},{n:[],f:[]},{n:[],f:[]},{n:[],f:[]},{n:[],f:[]}]}],rowLen:6361,patternLen:32,endPattern:7,numChannels:7};exports.song=r;
},{}],"QgaL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.intro=void 0;var t={init:function(t,i){this.g=t,this.fpsInterval=200,this.now=window.performance.now(),this.i=0,this.drawing=!0,this.paige=document.getElementById("paige"),this.paige.style.display="block",this.paige.addEventListener("click",i),this.title=document.getElementById("title"),this.title.innerText="Finding Paige"},draw:function(t){},stop:function(){this.drawing=!1,this.g.ctx.clearRect(0,0,this.g.w,this.g.h),this.paige.style.display="none",this.title.style.display="none"}};exports.intro=t;
},{}],"DQCU":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.solve=void 0;var t={init:function(t,i){this.g=t,this.fpsInterval=1e3/60,this.g.ctxe.strokeStyle="#f3f3f3",this.no01=document.getElementById("no01"),this.no02=document.getElementById("no02");var h=t.w>t.h?Math.floor(t.h/2):Math.floor(t.w/2);this.no01.style.fontSize="".concat(h,"px"),this.no02.style.fontSize="".concat(h,"px"),this.callback=i,document.getElementById("solve").addEventListener("click",function(){var i=t.room.getRoom(),h=t.room.currentCode[i[5]];h[3]().hashCode(),h[1],t.ce.style.display="block",h[4](),t.room.currentRoom[t.pos][6]=0,t.navigation.update(),t.audioSuccessSound.play(),t.room.drawRoom(),t.solve.setupDraw(),t.solve.draw()}),String.prototype.hashCode=function(){var t=0;if(0==this.length)return t;for(var i=0;i<this.length;i++){t=(t<<5)-t+this.charCodeAt(i),t&=t}return t}},setupDraw:function(){this.i=0,this.drawing=!0,this.lengthx=this.g.w-2*this.g.xdiff,this.lengthy=this.g.h-2*this.g.ydiff,this.currentLengthx=0,this.currentLengthy=0,this.speedx=this.lengthx/10,this.speedy=this.lengthy/10,this.now=window.performance.now()},draw:function(t){if(!this.drawing)return this.g.ctxe.clearRect(0,0,this.g.w,this.g.h),void(this.g.ce.style.display="none");if(!t){var i,h;t=window.performance.now();for(var s=0;s<100;s++){this.g.ctxe.strokeStyle="rgba(255,255,255,".concat(.8*Math.random(),")");var e=this.g.xdiff+2*Math.random()*(this.g.w2-this.g.xdiff),n=this.g.ydiff+2*Math.random()*(this.g.h2-this.g.ydiff);this.g.h2,this.g.w2;this.g.ctxe.line(e,n,this.g.w2,this.g.h2);for(var g=0;g<40;g++)this.g.ctxe.strokeStyle="rgba(255,255,255,".concat(.1*Math.random(),")"),this.g.ctxe.line(e-g+2*Math.random()*g,n-g+2*Math.random()*g,e,n);Math.random()>.6&&i&&(this.g.ctxe.beginPath(),this.g.ctxe.fillStyle="rgba(255,255,255,".concat(.1*Math.random(),")"),this.g.ctxe.moveTo(this.g.w2,this.g.h2),this.g.ctxe.lineTo(e,n),this.g.ctxe.lineTo(i,h),this.g.ctxe.fill()),i=e,h=n}for(s=0;s<40;s++){var o=this.g.xdiff+2*Math.random()*(this.g.w2-this.g.xdiff),r=this.g.ydiff+2*Math.random()*(this.g.h2-this.g.ydiff);this.g.ctxe.strokeStyle="rgba(255,255,255,".concat(.4,")"),this.g.ctxe.line(o-s+2*Math.random()*s,r-s+2*Math.random()*s,o,r)}}var a=t-this.now;if(this.drawing&&window.requestAnimationFrame(this.draw.bind(this)),this.g.ctxe.strokeStyle="rgba(255,255,255,1)",a>this.fpsInterval){this.now=t-a%this.fpsInterval,this.currentLengthx+=this.speedx,this.currentLengthy+=this.speedy,this.currentLengthx>this.lengthx&&(this.currentLengthx=this.lengthx,this.drawing=!1),this.currentLengthy>this.lengthy&&(this.currentLengthy=this.lengthy),this.g.ctxe.beginPath(),this.g.ctxe.moveTo(this.g.xdiff,this.g.ydiff),this.g.ctxe.lineTo(this.g.xdiff+this.currentLengthx,this.g.ydiff),this.g.ctxe.stroke(),this.g.ctxe.beginPath(),this.g.ctxe.moveTo(this.g.w-this.g.xdiff,this.g.h-this.g.ydiff),this.g.ctxe.lineTo(this.g.w-this.g.xdiff-this.currentLengthx,this.g.h-this.g.ydiff),this.g.ctxe.stroke(),this.g.ctxe.beginPath(),this.g.ctxe.moveTo(this.g.xdiff,this.g.h-this.g.ydiff),this.g.ctxe.lineTo(this.g.xdiff,this.g.h-this.g.ydiff-this.currentLengthy),this.g.ctxe.stroke(),this.g.ctxe.beginPath(),this.g.ctxe.moveTo(this.g.w-this.g.xdiff,this.g.ydiff),this.g.ctxe.lineTo(this.g.w-this.g.xdiff,this.g.ydiff+this.currentLengthy),this.g.ctxe.stroke();for(s=0;s<20;s++){var f=this.g.xdiff+2*Math.random()*(this.g.w2-this.g.xdiff),c=this.g.ydiff+2*Math.random()*(this.g.h2-this.g.ydiff);this.g.ctxe.strokeStyle="rgba(255,255,255,".concat(.4,")"),this.g.ctxe.line(f-s+2*Math.random()*s,c-s+2*Math.random()*s,f,c)}console.log(this.speedx/this.lengthx),this.g.ctxe.fillStyle="rgba(255,255,255,0.04)",this.g.ctxe.fillRect(this.g.xdiff,this.g.ydiff,this.g.w-2*this.g.xdiff,this.g.h-2*this.g.ydiff)}},stop:function(){this.drawing=!1,this.g.ctx.clearRect(0,0,this.g.w,this.g.h)},fail:function(){var t=this;this.no01.style.display="block",this.no02.style.display="block",setTimeout(function(){t.no01.style.display="none",t.no02.style.display="none"},500)}};exports.solve=t;
},{}],"wuKc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.navigation=void 0;var t={init:function(t){document.getElementById("nav-left").style.opacity=1,document.getElementById("nav-right").style.opacity=1,this.g=t,document.getElementById("nav-left").addEventListener("click",function(e){t.room.turnLeft()}),document.getElementById("nav-right").addEventListener("click",function(e){t.room.turnRight()}),document.getElementById("nav-forward").addEventListener("click",function(e){t.room.moveForward()})},update:function(){document.getElementById("nav-forward").style.opacity=1,this.g.room.getRoom()[1]>0&&(document.getElementById("nav-forward").style.opacity=0)}};exports.navigation=t;
},{}],"U5Xy":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.room=void 0;var t={init:function(t){var e=this;this.g=t,this.xdiff=Math.round(t.w>t.h?t.w/10:t.w/8),this.ydiff=Math.round(t.w>t.h?t.h/8:t.h/15),this.msg=document.getElementById("message"),this.msgContainer=document.getElementById("messagecontainer"),this.codeContainer=document.getElementById("codecontainer"),this.codeOverlay=document.getElementById("codeoverlay"),this.codeInput=document.getElementById("code"),this.teleportcontainer=document.getElementById("teleportcontainer"),this.startRoom=[[1,0,1,1,"#898989",0,0,0,"You should not be here"],[1,0,1,0,"#898989",0,0,0,0],[1,1,1,0,"#898989",0,"code20Start",0,0],[1,0,1,0,"#898989",0,0,0,0],[1,1,1,0,"#898989",0,"code40Start",0,0],[1,0,1,0,"#898989",0,0,0,0],[1,0,1,0,"#898989",0,0,"Andrea was always such a square",0],[1,1,1,0,"#898989",0,"code70Start",0,0],[1,0,1,0,"#898989",0,0,0,0],[1,0,-1,0,"#898989","First I played with Jenna",0,"#890000",0],[0,0,1,0,"#898989",0,0,"... and then with James and then Martha",0],[1,1,1,0,"#898989",0,"code110Start",0,0]],this.startRoomCode={code20Start:["c20",51512,function(){return e.generateSelect([4])+e.generateSelect([0])+e.generateSelect([4])},function(){return Array.prototype.map.call(document.getElementsByTagName("select"),function(t){return t.value}).reduce(function(t,e){return t+e},"")},function(){t.room.currentRoom[2][1]=0}],code40Start:["c40",51512,function(){var t=Array.from(Array(10).keys());return e.generateSelect(t)+e.generateSelect(t)+e.generateSelect(t)},function(){return Array.prototype.map.call(document.getElementsByTagName("select"),function(t){return t.value}).reduce(function(t,e){return t+e},"")},function(){t.room.currentRoom[4][1]=0}],code70Start:["c70",46908944,function(){var t=Array.from(Array(21).keys());return"<p class='title'>Andrea</p>"+e.generateSelect(t)+e.generateSelect(t)+e.generateSelect(t)},function(){return Array.prototype.map.call(document.getElementsByTagName("select"),function(t){return t.value}).reduce(function(t,e){return t+e},"")},function(){t.room.currentRoom[7][1]=0}],code110Start:["c100",-1199325762,function(){var t=Array.from(Array(2).keys());return"".concat(e.generateSelect(t)+e.generateSelect(t)+e.generateSelect(t)+e.generateSelect(t),"<br />").concat(e.generateSelect(t)+e.generateSelect(t)+e.generateSelect(t)+e.generateSelect(t),"<br />").concat(e.generateSelect(t)+e.generateSelect(t)+e.generateSelect(t)+e.generateSelect(t))},function(){return Array.prototype.map.call(document.getElementsByTagName("select"),function(t){return t.value}).reduce(function(t,e){return t+e},"")},function(){t.room.currentRoom[7][1]=0}]},this.redRoom=[[1,0,1,1,"#890000",0,0,0,0],[1,0,1,0,"#890000",0,0,"Floor 0: Karen<br/>Floor 1: Amanda<br/>",0],[1,0,1,0,"#890000",0,0,0,0],[-2,0,1,0,"#890000","#898989",0,0,0],[1,0,1,0,"#890000",0,0,0,0],[1,0,1,0,"#890000",0,0,0,0],[1,1,1,0,"#890000",0,0,0,0]],this.currentCode=this.startRoomCode,this.currentRoom=this.startRoom},generateSelect:function(t){return"<select>".concat(t.reduce(function(t,e){return t+"<option>".concat(e,"</option>")},""),"</select>")},turnLeft:function(){this.g.dir--,this.g.dir<0&&(this.g.dir=3),this.drawRoom()},turnRight:function(){this.g.dir++,this.g.dir>3&&(this.g.dir=0),this.drawRoom()},moveForward:function(){var t=this.getRoom();console.log(t),t[1]<1&&(-1===t[1]?(this.currentRoom=this.redRoom,this.g.pos=1,this.g.dir=0):-2===t[1]?(this.currentRoom=this.startRoom,this.g.pos=9,this.g.dir=3):this.g.pos+=0===this.g.dir?1:-1,this.drawRoom())},getRoom:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;console.log(this.g.pos+","+this.g.dir+","+t),t=0===this.g.dir?this.g.pos+t:2===this.g.dir?this.g.pos-t:this.g.pos;var e=this.currentRoom[t];switch(this.g.dir){case 0:return[e[0],e[1],e[2],e[4],e[5],e[6],e[7]];case 1:return[e[1],e[2],e[3],e[4],e[6],e[7],e[8]];case 2:return[e[2],e[3],e[0],e[4],e[7],e[8],e[5]];case 3:return[e[3],e[0],e[1],e[4],e[8],e[5],e[6]]}},drawRoom:function(){this.msgContainer.style.display="none",this.codeContainer.style.display="none",this.teleportcontainer.style.display="none",this.g.ctx.clearRect(0,0,this.g.w,this.g.h);for(var t=0;t<3;t++){var e,i=this.getRoom(t),s=this.xdiff,h=this.ydiff,o=t*s,c=t*h;if(2==t&&(s=Math.floor(.7*s),h=Math.floor(.7*h)),this.g.ctx.fillStyle=i[3],this.g.ctx.fillRect(0+o,0+c,this.g.w-2*o,h),(e=this.g.ctx.createLinearGradient(0+o,0+c,0+o,c+h)).addColorStop(0,this.g["alphaR".concat(t)]),e.addColorStop(1,this.g["alphaR".concat(t+1)]),this.g.ctx.fillStyle=e,this.g.ctx.fillRect(0+o,0+c,this.g.w-2*o,h),this.g.ctx.fillStyle=i[3],this.g.ctx.fillRect(0+o,this.g.h-h-c,this.g.w-2*o,h),(e=this.g.ctx.createLinearGradient(0,this.g.h-c,0,this.g.h-c-h)).addColorStop(0,this.g["alphaR".concat(t)]),e.addColorStop(1,this.g["alphaR".concat(t+1)]),this.g.ctx.fillStyle=e,this.g.ctx.fillRect(0+o,this.g.h-h-c,this.g.w-2*o,h),this.g.ctx.beginPath(),this.g.ctx.moveTo(0+o,0+c),this.g.ctx.lineTo(this.g.w-o,0+c),this.g.ctx.lineTo(this.g.w-o,this.g.h-c),this.g.ctx.lineTo(0+o,this.g.h-c),this.g.ctx.lineTo(0+o,0+c),this.g.ctx.stroke(),1===i[0]){if(this.g.ctx.line(0+o,0+c,0+o+s,0+c+h),this.g.ctx.line(0+o,this.g.h-c,0+o+s,this.g.h-c-h),this.g.ctx.drawWall(0+o,0+c,0+o+s,0+c+h,0+o+s,this.g.h-c-h,0+o,this.g.h-c,i[3],this.g["alphaR".concat(t)],this.g["alphaR".concat(t+1)]),0!==i[4]){var r=0===t?0:0+o+s/(10/t),n=0===t?s/2:s-2*s/(10/t);this.g.ctx.save(),this.g.ctx.rect(r,0,n,this.g.h),this.g.ctx.clip(),this.g.ctx.beginPath(),this.g.ctx.fillStyle=i[4].startsWith("c")?"rgba(255,255,255,0.3)":"rgba(0,0,0,0.3)",this.g.ctx.moveTo(0,this.g.h2-this.g.h2/6),this.g.ctx.lineTo(this.g.w2,this.g.h2),this.g.ctx.lineTo(0,this.g.h2+this.g.h2/6),this.g.ctx.fill(),this.g.ctx.restore()}}else 0===t&&(this.g.ctx.fillStyle=i[3],this.g.ctx.fillRect(0+o,h,s,this.g.h-2*h)),this.g.ctx.fillStyle=this.g["alphaR".concat(t+1)],this.g.ctx.fillRect(0+o,0+c+h,s,this.g.h-c-h-c-h),this.g.ctx.line(0+o,0+c+h,0+o+s,0+c+h),this.g.ctx.line(0+o,this.g.h-c-h,0+o+s,this.g.h-c-h);if(1===i[2]){if(this.g.ctx.line(this.g.w-o,0+c,this.g.w-o-s,0+c+h),this.g.ctx.line(this.g.w-o,this.g.h-c,this.g.w-o-s,this.g.h-c-h),this.g.ctx.drawWall(this.g.w-o,0+c,this.g.w-o-s,c+h,this.g.w-o-s,this.g.h-c-h,this.g.w-o,this.g.h-c,i[3],this.g["alphaR".concat(t)],this.g["alphaR".concat(t+1)]),0!==i[6]){var a=0===t?this.g.w-s/2:this.g.w-o-s+s/(10/t),g=0===t?s/2:s-2*s/(10/t);this.g.ctx.save(),this.g.ctx.rect(a,0,g,this.g.h),this.g.ctx.clip(),this.g.ctx.beginPath(),this.g.ctx.fillStyle=i[6].startsWith("c")?"rgba(255,255,255,0.3)":"rgba(0,0,0,0.3)",this.g.ctx.moveTo(this.g.w,this.g.h2-this.g.h2/6),this.g.ctx.lineTo(this.g.w2,this.g.h2),this.g.ctx.lineTo(this.g.w,this.g.h2+this.g.h2/6),this.g.ctx.fill(),this.g.ctx.restore()}}else 0===t&&(this.g.ctx.fillStyle=i[3],this.g.ctx.fillRect(this.g.w-s,h,s,this.g.h-2*h)),this.g.ctx.fillStyle=this.g["alphaR".concat(t+1)],this.g.ctx.fillRect(this.g.w-o-s,0+c+h,s,this.g.h-c-h-c-h),this.g.ctx.line(this.g.w-o,0+c+h,this.g.w-o-s,0+c+h),this.g.ctx.line(this.g.w-o,this.g.h-c-h,this.g.w-o-s,this.g.h-c-h);if(1===i[1]||2===t){this.g.ctx.fillStyle=i[3],this.g.ctx.fillRect(s+o,h+c,this.g.w-2*o-2*s,this.g.h-2*c-2*h),this.g.ctx.fillStyle=this.g["alphaR".concat(t+1)],this.g.ctx.fillRect(s+o,h+c,this.g.w-2*o-2*s,this.g.h-2*c-2*h),this.g.ctx.strokeRect(s+o,h+c,this.g.w-2*o-2*s,this.g.h-2*c-2*h),this.drawWallDecorations(i,t);break}}this.g.navigation.update()},drawWallDecorations:function(t,e){0!=t[5]&&(t[5].startsWith("code")?(this.codeContainer.style.display="block",this.codeInput.innerHTML=this.currentCode[t[5]][2](),0===e?(this.codeOverlay.style.display="none",this.codeContainer.style.opacity="1",this.codeContainer.style.transform="translate(-50%,-50%) scale(1)"):(this.codeOverlay.style.display="block",this.codeContainer.style.opacity="".concat(1-.4*e),this.codeContainer.style.transform="translate(-50%,-50%) scale(".concat(1-.4*e,")"))):(console.log("room 1 : "+t[1]),t[1]<0?(this.teleportcontainer.style.backgroundColor=t[5],this.teleportcontainer.style.display="block"):(this.msg.innerHTML=t[5],this.msg.classList.remove("glitchanimation"),this.msgContainer.style.display="block",this.msgContainer.style.opacity="".concat(1-.4*e),this.msgContainer.style.transform="translate(-50%,-50%) scale(".concat(1-.4*e,")"),0===e&&this.msg.classList.add("glitchanimation"))))}};exports.room=t;
},{}],"mpVp":[function(require,module,exports) {
"use strict";var t=a(require("./song.js")),n=require("./intro.js"),e=require("./solve.js"),i=require("./navigation.js"),o=require("./room.js");function r(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return r=function(){return t},t}function a(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=r();if(n&&n.has(t))return n.get(t);var e={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=i?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(e,o,a):e[o]=t[o]}return e.default=t,n&&n.set(t,e),e}var c={w:500,h:250,w2:250,h2:125,pos:9,dir:0,alphaR0:"rgba(0,0,0,0)",alphaR1:"rgba(0,0,0,0.2)",alphaR2:"rgba(0,0,0,0.7)",alphaR3:"rgba(0,0,0,0.9)"};function u(t){"loading"!=document.readyState?t():document.addEventListener("DOMContentLoaded",t)}function f(){var t=window.innerHeight-20,n=window.innerWidth-20;t>800&&(t=800),n>800&&(n=800),c.w=n,c.w2=n/2,c.h=t,c.h2=t/2,c.c.width=n,c.c.height=t,c.ce.width=n,c.ce.height=t,c.xdiff=Math.round(c.w>c.h?c.w/10:c.w/8),c.ydiff=Math.round(c.w>c.h?c.h/8:c.h/15);var e=document.getElementById("navigation");e.style.bottom="".concat(c.ydiff,"px"),e.style.height="".concat(Math.floor(1.5*c.ydiff),"px"),Array.from(e.getElementsByTagName("svg")).forEach(function(t){t.setAttribute("width","".concat(Math.floor(1.5*c.ydiff))),t.setAttribute("height","".concat(Math.floor(1.5*c.ydiff)))})}function d(t,n){if(t.generate()>=1){var e=t.createWave(),i=new Blob([e],{type:"audio/wav"}),o=window.URL.createObjectURL(i);n(o)}else setTimeout(function(){return d(t,n)},100)}function l(){c.ctx=c.c.getContext("2d"),c.ctxe=c.ce.getContext("2d"),o.room.init(c),c.room=o.room,n.intro.init(c,function(){new(window.AudioContext||window.webkitAudioContext);c.audioSong.loop=!0,c.audioSong.play(),n.intro.stop(),c.ctx.strokeStyle="rgba(0,0,0,1)",i.navigation.init(c),c.navigation=i.navigation,e.solve.init(c),c.solve=e.solve,c.room.drawRoom()}),n.intro.draw(),c.ctx.line=c.ctxe.line=function(t,n,e,i){this.beginPath(),this.moveTo(t,n),this.lineTo(e,i),this.stroke()},c.ctx.drawWall=function(t,n,e,i,o,r,a,u,f,d,l){c.ctx.beginPath(),c.ctx.moveTo(t,n),c.ctx.lineTo(e,i),c.ctx.lineTo(o,r),c.ctx.lineTo(a,u),c.ctx.lineTo(t,n);var s=c.ctx.createLinearGradient(t,n,e,n);s.addColorStop(0,d),s.addColorStop(1,l),c.ctx.fillStyle=f,c.ctx.fill(),c.ctx.fillStyle=s,c.ctx.fill(),c.ctx.line(t,n,e,i),c.ctx.line(o,r,a,u)}}u(function(){var n=new s;c.c=document.getElementById("canvas"),c.ce=document.getElementById("canvaseffect"),f(),n.init(t.song),c.audioSong=new Audio,c.audioErrorSound=new Audio,c.audioSuccessSound=new Audio,d(n,function(e){c.audioSong.src=e,n.init(t.errorsound),d(n,function(e){c.audioErrorSound.src=e,n.init(t.successsound),d(n,function(t){c.audioSuccessSound.src=t,l()})})})});var s=function(){var t,n,e,i,o,r=function(t){return Math.sin(6.283184*t)},a=function(t){return.003959503758*Math.pow(2,(t-128)/12)},c=function(t,n,e){var i,o,r,c,f,d,l,s=u[t.i[0]],h=t.i[1],w=t.i[3],v=u[t.i[4]],g=t.i[5],p=t.i[8],y=t.i[9],x=t.i[10]*t.i[10]*4,m=t.i[11]*t.i[11]*4,b=t.i[12]*t.i[12]*4,M=1/b,S=t.i[13],A=e*Math.pow(2,2-t.i[14]),j=new Int32Array(x+m+b),O=0,L=0;for(i=0,o=0;i<x+m+b;i++,o++)o>=0&&(o-=A,d=a(n+(15&(S=S>>8|(255&S)<<4))+t.i[2]-128),l=a(n+(15&S)+t.i[6]-128)*(1+8e-4*t.i[7])),r=1,i<x?r=i/x:i>=x+m&&(r-=(i-x-m)*M),c=d,w&&(c*=r*r),f=s(O+=c)*h,c=l,p&&(c*=r*r),f+=v(L+=c)*g,y&&(f+=(2*Math.random()-1)*y),j[i]=80*f*r|0;return j},u=[r,function(t){return t%1<.5?1:-1},function(t){return t%1*2-1},function(t){var n=t%1*4;return n<2?n-1:3-n}];this.init=function(r){t=r,n=r.endPattern,e=0,i=r.rowLen*r.patternLen*(n+1)*2,o=new Int32Array(i)},this.generate=function(){var a,f,d,l,s,h,w,v,g,p,y,x,m,b,M=new Int32Array(i),S=t.songData[e],A=t.rowLen,j=t.patternLen,O=0,L=0,T=!1,C=[];for(d=0;d<=n;++d)for(w=S.p[d],l=0;l<j;++l){var E=w?S.c[w-1].f[l]:0;E&&(S.i[E-1]=S.c[w-1].f[l+j]||0,E<16&&(C=[]));var P=u[S.i[15]],R=S.i[16]/512,I=Math.pow(2,S.i[17]-9)/A,W=S.i[18],k=S.i[19],q=43.23529*S.i[20]*3.141592/44100,B=1-S.i[21]/255,D=1e-5*S.i[22],U=S.i[23]/32,_=S.i[24]/512,G=6.283184*Math.pow(2,S.i[25]-9)/A,H=S.i[26]/255,N=S.i[27]*A&-2;for(y=(d*j+l)*A,s=0;s<4;++s)if(h=w?S.c[w-1].n[l+s*j]:0){C[h]||(C[h]=c(S,h,A));var z=C[h];for(f=0,a=2*y;f<z.length;f++,a+=2)M[a]+=z[f]}for(f=0;f<A;f++)(p=M[v=2*(y+f)])||T?(x=q,W&&(x*=P(I*v)*R+.5),L+=(x=1.5*Math.sin(x))*(m=B*(p-L)-(O+=x*L)),p=3==k?L:1==k?m:O,D&&(p=(p*=D)<1?p>-1?r(.25*p):-1:1,p/=D),T=(p*=U)*p>1e-5,b=p*(1-(g=Math.sin(G*v)*_+.5)),p*=g):b=0,v>=N&&(b+=M[v-N+1]*H,p+=M[v-N]*H),M[v]=0|b,M[v+1]=0|p,o[v]+=0|b,o[v+1]+=0|p}return++e/t.numChannels},this.createWave=function(){var t=44+2*i-8,n=t-36,e=new Uint8Array(44+2*i);e.set([82,73,70,70,255&t,t>>8&255,t>>16&255,t>>24&255,87,65,86,69,102,109,116,32,16,0,0,0,1,0,2,0,68,172,0,0,16,177,2,0,4,0,16,0,100,97,116,97,255&n,n>>8&255,n>>16&255,n>>24&255]);for(var r=0,a=44;r<i;++r){var c=o[r];c=c<-32767?-32767:c>32767?32767:c,e[a++]=255&c,e[a++]=c>>8&255}return e},this.getData=function(t,n){for(var e=2*Math.floor(44100*t),i=new Array(n),r=0;r<2*n;r+=1){var a=e+r;i[r]=t>0&&a<o.length?o[a]/32768:0}return i}};
},{"./song.js":"gg0M","./intro.js":"QgaL","./solve.js":"DQCU","./navigation.js":"wuKc","./room.js":"U5Xy"}]},{},["mpVp"], null)
//# sourceMappingURL=script.9843db98.js.map