parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"gg0M":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.song=exports.errorsound=exports.song2=void 0;var n={songData:[{i:[2,100,128,0,3,201,128,0,0,0,5,6,58,0,0,0,195,6,1,2,135,0,0,32,147,6,121,6],p:[1],c:[{n:[123,,135,130,123,,123,,130,131,128,,123,,123,130,135,,135,,123,131,130,,126,,138,,137,,130],f:[]}]}],rowLen:5513,patternLen:32,endPattern:0,numChannels:1};exports.song2=n;var e={songData:[{i:[2,138,116,0,3,138,128,4,0,103,47,24,107,124,2,2,140,8,1,3,54,98,3,32,147,4,121,5],p:[1],c:[{n:[123],f:[]}]}],rowLen:5513,patternLen:32,endPattern:0,numChannels:1};exports.errorsound=e;var r={songData:[{i:[2,138,116,0,2,138,128,4,0,0,48,160,132,0,0,0,55,4,1,3,7,64,3,13,44,4,36,4],p:[1,2,1,2,1,2,1,2],c:[{n:[135,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,138,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,142],f:[]},{n:[135,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,140,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,143],f:[]}]},{i:[2,100,128,0,3,201,128,0,0,0,0,6,29,0,0,0,195,4,1,3,50,184,119,244,147,6,84,6],p:[],c:[]},{i:[0,91,128,0,0,95,128,12,0,0,12,0,72,0,0,0,0,0,0,2,255,0,0,32,83,3,130,4],p:[10,10,10,10,1,2,1,2],c:[{n:[135,,,,,,,,,,130,,,,137,,138,,,,,,,,,,138,,,,137],f:[]},{n:[128,,,138,137,,138,,,,,,,,,,138,,,,,,131,,,,,,143,,142],f:[]},{n:[,,,,,,138,,,,,,,,,,,,,,,,,,,,,,,,,,137,,,,,,,,,,,,,,,,,,,,,,,,,,133,,,,,,,,,,,,,,,,,,137,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,140],f:[]},{n:[128,,,138,137,,138,,,,,,,,,,138,,,,,,131,,,,,,142,,138],f:[]},{n:[],f:[]},{n:[],f:[]},{n:[],f:[]},{n:[],f:[]},{n:[],f:[]},{n:[],f:[]}]},{i:[2,100,128,0,3,201,128,0,0,0,5,6,58,0,0,0,195,6,1,2,135,0,0,32,147,6,121,6],p:[],c:[]},{i:[2,100,128,0,3,201,128,0,0,0,5,6,58,0,0,0,195,6,1,2,135,0,0,32,147,6,121,6],p:[],c:[]},{i:[2,100,128,0,3,201,128,0,0,0,5,6,58,0,0,0,195,6,1,2,135,0,0,32,147,6,121,6],p:[],c:[]},{i:[3,146,140,0,1,92,128,3,0,0,25,121,79,0,0,2,151,3,1,3,6,35,11,32,150,3,157,6],p:[10,10,10,10,1,2,1,2],c:[{n:[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,135,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,142],f:[]},{n:[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,138,,,,,,,,,,,,,,,,,,,,130],f:[]},{n:[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,140,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,135],f:[]},{n:[],f:[]},{n:[],f:[]},{n:[],f:[]},{n:[],f:[]},{n:[],f:[]},{n:[],f:[]},{n:[],f:[]}]}],rowLen:6361,patternLen:32,endPattern:7,numChannels:7};exports.song=r;
},{}],"QgaL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.intro=void 0;var t={init:function(t,i){this.g=t,this.fpsInterval=200,this.now=window.performance.now(),this.i=0,this.drawing=!0,this.paige=document.getElementById("paige"),this.paige.style.display="block",this.paige.addEventListener("click",i),this.title=document.getElementById("title"),this.title.innerText="Finding Paige"},draw:function(t){},stop:function(){this.drawing=!1,this.g.ctx.clearRect(0,0,this.g.w,this.g.h),this.paige.style.display="none",this.title.style.display="none"}};exports.intro=t;
},{}],"DQCU":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.solve=void 0;var t={init:function(t,i){this.g=t,this.fpsInterval=1e3/60,this.now=window.performance.now(),this.i=0,this.drawing=!0,this.lengthx=this.g.w-2*this.g.xdiff,this.lengthy=this.g.h-2*this.g.ydiff,this.currentLengthx=0,this.currentLengthy=0,this.speedx=this.lengthx/10,this.speedy=this.lengthy/10,this.g.ctxe.strokeStyle="#f3f3f3",this.g.ce.style.display="block",this.callback=i},draw:function(t){if(!this.drawing)return this.g.ctxe.clearRect(0,0,this.g.w,this.g.h),this.g.ce.style.display="none",void this.callback();if(!t){var i,h;t=window.performance.now();for(var s=0;s<100;s++){console.log(this.g.h2+","+this.g.w2),this.g.ctxe.strokeStyle="rgba(255,255,255,".concat(.8*Math.random(),")");var e=this.g.xdiff+2*Math.random()*(this.g.w2-this.g.xdiff),g=this.g.ydiff+2*Math.random()*(this.g.h2-this.g.ydiff);this.g.h2,this.g.w2;this.g.ctxe.line(e,g,this.g.w2,this.g.h2);for(var n=0;n<40;n++)this.g.ctxe.strokeStyle="rgba(255,255,255,".concat(.1*Math.random(),")"),this.g.ctxe.line(e-n+2*Math.random()*n,g-n+2*Math.random()*n,e,g);Math.random()>.6&&i&&(this.g.ctxe.beginPath(),this.g.ctxe.fillStyle="rgba(255,255,255,".concat(.1*Math.random(),")"),this.g.ctxe.moveTo(this.g.w2,this.g.h2),this.g.ctxe.lineTo(e,g),this.g.ctxe.lineTo(i,h),this.g.ctxe.fill()),i=e,h=g}for(s=0;s<40;s++){var r=this.g.xdiff+2*Math.random()*(this.g.w2-this.g.xdiff),f=this.g.ydiff+2*Math.random()*(this.g.h2-this.g.ydiff);this.g.ctxe.strokeStyle="rgba(255,255,255,".concat(.4,")"),this.g.ctxe.line(r-s+2*Math.random()*s,f-s+2*Math.random()*s,r,f)}}var o=t-this.now;if(this.drawing?window.requestAnimationFrame(this.draw.bind(this)):console.log("not anymore"),this.g.ctxe.strokeStyle="rgba(255,255,255,1)",o>this.fpsInterval){this.now=t-o%this.fpsInterval,this.currentLengthx+=this.speedx,this.currentLengthy+=this.speedy,this.currentLengthx>this.lengthx&&(this.currentLengthx=this.lengthx,this.drawing=!1),this.currentLengthy>this.lengthy&&(this.currentLengthy=this.lengthy),this.g.ctxe.beginPath(),this.g.ctxe.moveTo(this.g.xdiff,this.g.ydiff),this.g.ctxe.lineTo(this.g.xdiff+this.currentLengthx,this.g.ydiff),this.g.ctxe.stroke(),this.g.ctxe.beginPath(),this.g.ctxe.moveTo(this.g.w-this.g.xdiff,this.g.h-this.g.ydiff),this.g.ctxe.lineTo(this.g.w-this.g.xdiff-this.currentLengthx,this.g.h-this.g.ydiff),this.g.ctxe.stroke(),this.g.ctxe.beginPath(),this.g.ctxe.moveTo(this.g.xdiff,this.g.h-this.g.ydiff),this.g.ctxe.lineTo(this.g.xdiff,this.g.h-this.g.ydiff-this.currentLengthy),this.g.ctxe.stroke(),this.g.ctxe.beginPath(),this.g.ctxe.moveTo(this.g.w-this.g.xdiff,this.g.ydiff),this.g.ctxe.lineTo(this.g.w-this.g.xdiff,this.g.ydiff+this.currentLengthy),this.g.ctxe.stroke();for(s=0;s<20;s++){var a=this.g.xdiff+2*Math.random()*(this.g.w2-this.g.xdiff),c=this.g.ydiff+2*Math.random()*(this.g.h2-this.g.ydiff);this.g.ctxe.strokeStyle="rgba(255,255,255,".concat(.4,")"),this.g.ctxe.line(a-s+2*Math.random()*s,c-s+2*Math.random()*s,a,c)}console.log(this.speedx/this.lengthx),this.g.ctxe.fillStyle="rgba(255,255,255,0.04)",this.g.ctxe.fillRect(this.g.xdiff,this.g.ydiff,this.g.w-2*this.g.xdiff,this.g.h-2*this.g.ydiff)}},stop:function(){this.drawing=!1,this.g.ctx.clearRect(0,0,this.g.w,this.g.h)}};exports.solve=t;
},{}],"wuKc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.navigation=void 0;var t={init:function(t){var e=this;document.getElementById("nav-left").style.opacity=1,document.getElementById("nav-right").style.opacity=1,this.g=t,document.getElementById("nav-left").addEventListener("click",function(n){t.dir--,t.dir<0&&(t.dir=3),e.update()}),document.getElementById("nav-right").addEventListener("click",function(n){t.dir++,t.dir>3&&(t.dir=0),e.update()}),document.getElementById("nav-forward").addEventListener("click",function(n){0===t.getRoom()[1]&&(t.pos+=0===t.dir?1:-1),e.update()})},update:function(){document.getElementById("nav-forward").style.opacity=1,this.g.drawRoom(),0!==this.g.getRoom()[1]&&(document.getElementById("nav-forward").style.opacity=0)}};exports.navigation=t;
},{}],"U5Xy":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.room=void 0;var t={init:function(t){this.g=t,this.xdiff=Math.round(t.w>t.h?t.w/10:t.w/8),this.ydiff=Math.round(t.w>t.h?t.h/8:t.h/15)},drawRoom:function(){this.g.msgContainer.style.display="none",this.g.codeContainer.style.display="none",this.g.ctx.clearRect(0,0,this.g.w,this.g.h);for(var t=0;t<3;t++){var i,s=this.g.getRoom(t),h=t*this.xdiff,g=t*this.ydiff;if(this.g.ctx.fillStyle=s[3],this.g.ctx.fillRect(0+h,0+g,this.g.w-2*h,this.ydiff),(i=this.g.ctx.createLinearGradient(0+h,0+g,0+h,g+this.ydiff)).addColorStop(0,this.g["alphaR".concat(t)]),i.addColorStop(1,this.g["alphaR".concat(t+1)]),this.g.ctx.fillStyle=i,this.g.ctx.fillRect(0+h,0+g,this.g.w-2*h,this.ydiff),this.g.ctx.fillStyle=s[3],this.g.ctx.fillRect(0+h,this.g.h-this.ydiff-g,this.g.w-2*h,this.ydiff),(i=this.g.ctx.createLinearGradient(0,this.g.h-g,0,this.g.h-g-this.ydiff)).addColorStop(0,this.g["alphaR".concat(t)]),i.addColorStop(1,this.g["alphaR".concat(t+1)]),this.g.ctx.fillStyle=i,this.g.ctx.fillRect(0+h,this.g.h-this.ydiff-g,this.g.w-2*h,this.ydiff),this.g.ctx.beginPath(),this.g.ctx.moveTo(0+h,0+g),this.g.ctx.lineTo(this.g.w-h,0+g),this.g.ctx.lineTo(this.g.w-h,this.g.h-g),this.g.ctx.lineTo(0+h,this.g.h-g),this.g.ctx.lineTo(0+h,0+g),this.g.ctx.stroke(),1===s[0]){if(this.g.ctx.line(0+h,0+g,0+h+this.xdiff,0+g+this.ydiff),this.g.ctx.line(0+h,this.g.h-g,0+h+this.xdiff,this.g.h-g-this.ydiff),this.g.ctx.drawWall(0+h,0+g,0+h+this.xdiff,0+g+this.ydiff,0+h+this.xdiff,this.g.h-g-this.ydiff,0+h,this.g.h-g,s[3],this.g["alphaR".concat(t)],this.g["alphaR".concat(t+1)]),0!==s[4]){var f=0===t?0:0+h+this.xdiff/10,c=0===t?this.xdiff/2:this.xdiff-2*this.xdiff/10;this.g.ctx.save(),this.g.ctx.rect(f,0,c,this.g.h),this.g.ctx.clip(),this.g.ctx.beginPath(),this.g.ctx.fillStyle=s[4].startsWith("c")?"rgba(255,255,255,0.3)":"rgba(0,0,0,0.3)",this.g.ctx.moveTo(0,this.g.h2-this.g.h2/6),this.g.ctx.lineTo(this.g.w2,this.g.h2),this.g.ctx.lineTo(0,this.g.h2+this.g.h2/6),this.g.ctx.fill(),this.g.ctx.restore()}}else this.g.ctx.line(0+h,0+g+this.ydiff,0+h+this.xdiff,0+g+this.ydiff),this.g.ctx.line(0+h,this.g.h-g-this.ydiff,0+h+this.xdiff,this.g.h-g-this.ydiff);if(1===s[2]){if(this.g.ctx.line(this.g.w-h,0+g,this.g.w-h-this.xdiff,0+g+this.ydiff),this.g.ctx.line(this.g.w-h,this.g.h-g,this.g.w-h-this.xdiff,this.g.h-g-this.ydiff),this.g.ctx.drawWall(this.g.w-h,0+g,this.g.w-h-this.xdiff,g+this.ydiff,this.g.w-h-this.xdiff,this.g.h-g-this.ydiff,this.g.w-h,this.g.h-g,s[3],this.g["alphaR".concat(t)],this.g["alphaR".concat(t+1)]),0!==s[6]){var e=0===t?this.g.w-this.xdiff/2:this.g.w-h-this.xdiff+this.xdiff/10,l=0===t?this.xdiff/2:this.xdiff-2*this.xdiff/10;this.g.ctx.save(),this.g.ctx.rect(e,0,l,this.g.h),this.g.ctx.clip(),this.g.ctx.beginPath(),this.g.ctx.fillStyle=s[6].startsWith("c")?"rgba(255,255,255,0.3)":"rgba(0,0,0,0.3)",this.g.ctx.moveTo(this.g.w,this.g.h2-this.g.h2/6),this.g.ctx.lineTo(this.g.w2,this.g.h2),this.g.ctx.lineTo(this.g.w,this.g.h2+this.g.h2/6),this.g.ctx.fill(),this.g.ctx.restore()}}else this.g.ctx.line(this.g.w-h,0+g+this.ydiff,this.g.w-h-this.xdiff,0+g+this.ydiff),this.g.ctx.line(this.g.w-h,this.g.h-g-this.ydiff,this.g.w-h-this.xdiff,this.g.h-g-this.ydiff);if(1===s[1]||2===t){this.g.ctx.fillStyle=s[3],this.g.ctx.fillRect(this.xdiff+h,this.ydiff+g,this.g.w-2*h-2*this.xdiff,this.g.h-2*g-2*this.ydiff),this.g.ctx.fillStyle=this.g["alphaR".concat(t+1)],this.g.ctx.fillRect(this.xdiff+h,this.ydiff+g,this.g.w-2*h-2*this.xdiff,this.g.h-2*g-2*this.ydiff),this.g.ctx.strokeRect(this.xdiff+h,this.ydiff+g,this.g.w-2*h-2*this.xdiff,this.g.h-2*g-2*this.ydiff),this.drawWallDecorations(s,t);break}}},drawWallDecorations:function(t,i){0!=t[5]&&(t[5].startsWith("code")?(this.g.codeContainer.style.display="block",this.g.codeInput.innerHTML=this.g.code[t[5]][2](),0===i?(this.g.codeOverlay.style.display="none",this.g.codeContainer.style.opacity="1",this.g.codeContainer.style.transform="translate(-50%,-50%) scale(1)"):(this.g.codeOverlay.style.display="block",this.g.codeContainer.style.opacity="".concat(1-.4*i),this.g.codeContainer.style.transform="translate(-50%,-50%) scale(".concat(1-.4*i,")"))):(this.g.msg.innerText=t[5],this.g.msg.classList.remove("glitchanimation"),this.g.msgContainer.style.display="block",this.g.msgContainer.style.opacity="".concat(1-.4*i),this.g.msgContainer.style.transform="translate(-50%,-50%) scale(".concat(1-.4*i,")"),0===i&&this.g.msg.classList.add("glitchanimation")))}};exports.room=t;
},{}],"mpVp":[function(require,module,exports) {
"use strict";var e=a(require("./song.js")),t=require("./intro.js"),n=require("./solve.js"),o=require("./navigation.js"),r=require("./room.js");function i(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}function a(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var a=o?Object.getOwnPropertyDescriptor(e,r):null;a&&(a.get||a.set)?Object.defineProperty(n,r,a):n[r]=e[r]}return n.default=e,t&&t.set(e,n),n}var c={w:500,h:250,w2:250,h2:125,pos:0,dir:0,room:[[1,0,1,1,"#898989",0,0,0,"You should not be here"],[1,0,1,0,"#898989","4-ever",0,"4-ever",0],[1,1,1,0,"#898989",0,"code20",0,0],[1,0,1,0,"#898989",0,0,0,0],[1,1,1,0,"#898989",0,"code40",0,0],[1,0,1,0,"#898989",0,0,0,0],[1,0,1,0,"#898989",0,0,"Andrea was always such a square",0],[1,1,1,0,"#898989",0,"code70",0,0],[1,1,1,0,"#898989",0,"Slut pÃ¥ betan =)",0,0]],code:{code20:["c20","404",function(){return d([4])+d([0])+d([4])},function(){return Array.prototype.map.call(document.getElementsByTagName("select"),function(e){return e.value}).reduce(function(e,t){return e+t},"")},function(){c.room[2][1]=0}],code40:["c40","404",function(){var e=Array.from(Array(10).keys());return d(e)+d(e)+d(e)},function(){return Array.prototype.map.call(document.getElementsByTagName("select"),function(e){return e.value}).reduce(function(e,t){return e+t},"")},function(){c.room[4][1]=0}],code70:["c70","16016",function(){var e=Array.from(Array(21).keys());return d(e)+d(e)+d(e)},function(){return Array.prototype.map.call(document.getElementsByTagName("select"),function(e){return e.value}).reduce(function(e,t){return e+t},"")},function(){c.room[7][1]=0}]},alphaR0:"rgba(0,0,0,0)",alphaR1:"rgba(0,0,0,0.2)",alphaR2:"rgba(0,0,0,0.7)",alphaR3:"rgba(0,0,0,0.9)"};function u(e){"loading"!=document.readyState?e():document.addEventListener("DOMContentLoaded",e)}function d(e){return"<select>".concat(e.reduce(function(e,t){return e+"<option>".concat(t,"</option>")},""),"</select>")}function f(){var e=window.innerHeight-20,t=window.innerWidth-20;e>800&&(e=800),t>800&&(t=800),c.w=t,c.w2=t/2,c.h=e,c.h2=e/2,c.c.width=t,c.c.height=e,c.ce.width=t,c.ce.height=e,c.xdiff=Math.round(c.w>c.h?c.w/10:c.w/8),c.ydiff=Math.round(c.w>c.h?c.h/8:c.h/15);var n=document.getElementById("navigation");n.style.bottom="".concat(c.ydiff,"px"),n.style.height="".concat(Math.floor(1.5*c.ydiff),"px"),Array.from(n.getElementsByTagName("svg")).forEach(function(e){e.setAttribute("width","".concat(Math.floor(1.5*c.ydiff))),e.setAttribute("height","".concat(Math.floor(1.5*c.ydiff)))})}function l(e,t){var n=e.generate()>=1;if(console.log("preloading audio "+n),n){var o=e.createWave(),r=new Blob([o],{type:"audio/wav"}),i=window.URL.createObjectURL(r);t(i)}else setTimeout(function(){return l(e,t)},500)}function s(){c.drawRoom=h,c.getRoom=g,c.ctx=c.c.getContext("2d"),c.ctxe=c.ce.getContext("2d"),c.msg=document.getElementById("message"),c.msgContainer=document.getElementById("messagecontainer"),c.codeContainer=document.getElementById("codecontainer"),c.codeOverlay=document.getElementById("codeoverlay"),c.codeInput=document.getElementById("code"),t.intro.init(c,function(){c.audioSong.loop=!0,c.audioSong.play(),t.intro.stop(),c.ctx.strokeStyle="rgba(0,0,0,1)",o.navigation.init(c),o.navigation.update()}),t.intro.draw(),r.room.init(c),document.getElementById("solve").addEventListener("click",function(){c.audioErrorSound.play();var e=c.code["code".concat(c.pos).concat(c.dir)];e[3]()===e[1]&&(n.solve.init(c,function(){e[4](),console.log("solved: "+c.room[c.pos][6]),c.room[c.pos][6]=0,o.navigation.update()}),n.solve.draw())}),c.ctx.line=c.ctxe.line=function(e,t,n,o){this.beginPath(),this.moveTo(e,t),this.lineTo(n,o),this.stroke()},c.ctx.drawWall=function(e,t,n,o,r,i,a,u,d,f,l){c.ctx.beginPath(),c.ctx.moveTo(e,t),c.ctx.lineTo(n,o),c.ctx.lineTo(r,i),c.ctx.lineTo(a,u),c.ctx.lineTo(e,t);var s=c.ctx.createLinearGradient(e,t,n,t);s.addColorStop(0,f),s.addColorStop(1,l),c.ctx.fillStyle=d,c.ctx.fill(),c.ctx.fillStyle=s,c.ctx.fill(),c.ctx.line(e,t,n,o),c.ctx.line(r,i,a,u)}}function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;e=0===c.dir?c.pos+e:2===c.dir?c.pos-e:c.pos;var t=c.room[e];switch(c.dir){case 0:return[t[0],t[1],t[2],t[4],t[5],t[6],t[7]];case 1:return[t[1],t[2],t[3],t[4],t[6],t[7],t[8]];case 2:return[t[2],t[3],t[0],t[4],t[7],t[8],t[5]];case 3:return[t[3],t[0],t[1],t[4],t[8],t[5],t[6]]}}function m(){var e=0===c.dir||3===c.dir?c.pos+1:c.pos-1;return c.room[e][4]}function p(){var e=0===c.dir||3===c.dir?c.pos+2:c.pos-2;return e>=c.room.length?e-=1:e<=0&&(e=0),c.room[e][4]}function h(){r.room.drawRoom()}u(function(){var t=new v;c.c=document.getElementById("canvas"),c.ce=document.getElementById("canvaseffect"),f(),t.init(e.song),c.audioSong=new Audio,c.audioErrorSound=new Audio,l(t,function(n){c.audioSong.src=n,t.init(e.errorsound),l(t,function(n){t.init(e.errorsound),c.audioErrorSound.src=n,s()})}),console.log("done preloading")});var v=function(){var e,t,n,o,r,i=function(e){return Math.sin(6.283184*e)},a=function(e){return.003959503758*Math.pow(2,(e-128)/12)},c=function(e,t,n){var o,r,i,c,d,f,l,s=u[e.i[0]],g=e.i[1],m=e.i[3],p=u[e.i[4]],h=e.i[5],v=e.i[8],y=e.i[9],w=e.i[10]*e.i[10]*4,x=e.i[11]*e.i[11]*4,b=e.i[12]*e.i[12]*4,E=1/b,A=e.i[13],M=n*Math.pow(2,2-e.i[14]),B=new Int32Array(w+x+b),S=0,I=0;for(o=0,r=0;o<w+x+b;o++,r++)r>=0&&(r-=M,f=a(t+(15&(A=A>>8|(255&A)<<4))+e.i[2]-128),l=a(t+(15&A)+e.i[6]-128)*(1+8e-4*e.i[7])),i=1,o<w?i=o/w:o>=w+x&&(i-=(o-w-x)*E),c=f,m&&(c*=i*i),d=s(S+=c)*g,c=l,v&&(c*=i*i),d+=p(I+=c)*h,y&&(d+=(2*Math.random()-1)*y),B[o]=80*d*i|0;return B},u=[i,function(e){return e%1<.5?1:-1},function(e){return e%1*2-1},function(e){var t=e%1*4;return t<2?t-1:3-t}];this.init=function(i){e=i,t=i.endPattern,n=0,o=i.rowLen*i.patternLen*(t+1)*2,r=new Int32Array(o)},this.generate=function(){var a,d,f,l,s,g,m,p,h,v,y,w,x,b,E=new Int32Array(o),A=e.songData[n],M=e.rowLen,B=e.patternLen,S=0,I=0,j=!1,T=[];for(f=0;f<=t;++f)for(m=A.p[f],l=0;l<B;++l){var O=m?A.c[m-1].f[l]:0;O&&(A.i[O-1]=A.c[m-1].f[l+B]||0,O<16&&(T=[]));var L=u[A.i[15]],R=A.i[16]/512,C=Math.pow(2,A.i[17]-9)/M,P=A.i[18],k=A.i[19],q=43.23529*A.i[20]*3.141592/44100,W=1-A.i[21]/255,D=1e-5*A.i[22],N=A.i[23]/32,U=A.i[24]/512,_=6.283184*Math.pow(2,A.i[25]-9)/M,G=A.i[26]/255,H=A.i[27]*M&-2;for(y=(f*B+l)*M,s=0;s<4;++s)if(g=m?A.c[m-1].n[l+s*B]:0){T[g]||(T[g]=c(A,g,M));var Y=T[g];for(d=0,a=2*y;d<Y.length;d++,a+=2)E[a]+=Y[d]}for(d=0;d<M;d++)(v=E[p=2*(y+d)])||j?(w=q,P&&(w*=L(C*p)*R+.5),I+=(w=1.5*Math.sin(w))*(x=W*(v-I)-(S+=w*I)),v=3==k?I:1==k?x:S,D&&(v=(v*=D)<1?v>-1?i(.25*v):-1:1,v/=D),j=(v*=N)*v>1e-5,b=v*(1-(h=Math.sin(_*p)*U+.5)),v*=h):b=0,p>=H&&(b+=E[p-H+1]*G,v+=E[p-H]*G),E[p]=0|b,E[p+1]=0|v,r[p]+=0|b,r[p+1]+=0|v}return++n/e.numChannels},this.createWave=function(){var e=44+2*o-8,t=e-36,n=new Uint8Array(44+2*o);n.set([82,73,70,70,255&e,e>>8&255,e>>16&255,e>>24&255,87,65,86,69,102,109,116,32,16,0,0,0,1,0,2,0,68,172,0,0,16,177,2,0,4,0,16,0,100,97,116,97,255&t,t>>8&255,t>>16&255,t>>24&255]);for(var i=0,a=44;i<o;++i){var c=r[i];c=c<-32767?-32767:c>32767?32767:c,n[a++]=255&c,n[a++]=c>>8&255}return n},this.getData=function(e,t){for(var n=2*Math.floor(44100*e),o=new Array(t),i=0;i<2*t;i+=1){var a=n+i;o[i]=e>0&&a<r.length?r[a]/32768:0}return o}};
},{"./song.js":"gg0M","./intro.js":"QgaL","./solve.js":"DQCU","./navigation.js":"wuKc","./room.js":"U5Xy"}]},{},["mpVp"], null)
//# sourceMappingURL=script.51b878ed.js.map